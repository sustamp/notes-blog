---
# layout: post
layout: post-custom
title: "系统架构师教程学习笔记"
---

>**万时定律**，10000小时定律。  
简单来说，要成为某个领域顶尖的专业人才，需要10000小时持续不断的练习。例如小提琴、足球、国际象棋、围棋等领域，无一例外都遵循这个定律。  
技术人员的成长需要对技术的热情和持续不断学习，思考，实践和总结。

## 考试大纲

<a href="https://sustamp.github.io/notes-blog/2025/03/20/ruankao-outline.html" target="_blank">架构设计师考试大纲</a>

## 前言
系统架构（System Architecture）是系统的一种整体的高层次的结构表示，是系统的骨架和根级，支撑和链接各个部分。

系统架构设计的主要目的是对需要开发的系统进行一系列的抽象，用于系统各个方面的设计与实现。设计的优劣决定了系统的健壮性和生命周期的长短。

**架构设计**是需求系统开发过程中**需求分析**阶段后的一个关键步骤。架构设计的作用主要包括以下几点：
- 解决相对**复杂的需求**分析问题。
- 解决**非功能**属性在系统占据重要位置的设计问题。
- 解决生命**周期长**、**拓展**性需求**高**的系统整体结构问题。
- 解决系统基于**组件**需要的**集成**问题。
- 解决业务**流程再造**难的问题。


## 发展历程

|阶段|要点|
|----|----|
|基础分析阶段|**模块化开发方法**|
|概念体系和核心技术形成阶段|成果：**软件组件化技术**。组件具有可组装性和可插拔性。|
|理论体系完善与发展阶段|随着基于软件组件架构理论的建立，与之相关的一些研究方向组件成为软件工程领域的研究重点|
|普及应用阶段|**软件架构**是软件生命周期中的重要产物，它影响软件开发的各个阶段|


### 1.基础分析阶段（1968-1994）

随着软件规模的增大，**模块化开发**方法被逐步采用，为后续软件架构的发展奠定了基础。

模块化方法采用对复杂事物分而治之的经典原则。涉及的问题是模块设计的规则，即怎么将系统分解成模块。

每一模块都可独立开发与测试，最后在组装成一个完整软件。

将系统分解为模块，应该遵循以下规则：
1. **高**内聚。  
   - 只实现一种功能的模块是高内聚的，具有三种以上功能的模块则是低内聚的。也就是一个模块内部的元素最大限度的关联，
1. **低**耦合。
   - 不同模块之间的关系尽可能弱，以利于软件的升级和拓展。
2. 模块**大小适度**。
   - 颗粒度大，内部维护困难；
   - 颗粒度小，模块间耦合会增加。
3. 模块**调用链**的嵌套层次**不**可过**多**。
4. **接口简单**精炼，具有信息隐蔽能力。
5. 尽可能地**复用**已有模块。

### 2.概念体系的建立和核心技术形成阶段（1999-2000）

2000年，IEEE标准第一次定义了软件架构的形式化标准，这标志着软件架构的理论体系基本建立，具备普及应用的基础。

这一阶段的重要成功之一是：软件**组件化技术**。提升软件**重用**能力和**质量**。

组件的特性：
- **可组装性**和**可插拔性**。
- 组价与组件之间不存在直接耦合关系。
- 组件和组价之间又并非绝对独立，可经过组装后与其他组件进行业务上的交互。

组件化开发与模块化开发区分：
- 组件化开发并不等同于模块化开发。模块化开发只是在逻辑上做了切分，代码通常并没有真正意义上的隔离。

组件化与应用集成区分：
- 组件化也不等同于应用集成，应用集成是将一些基于不同平台或不同方案的应用软件有机集成到一个无缝的、并列的、易于访问的单一系统中，以建立一个统一的综合应用。

组件化比模块化更独立，但比应用集成结合得更加紧密。

> 模块化开发 < (独立性) **组件化开发** (结合度) > 应用集成

### 3.理论体系完善与发展阶段（1996年至今）

随着基于软件组件架构理论的建立，与之相关的一些研究方向逐渐成为软件工程领域的研究重点，主要包括：
- **软件架构描述与表示**；
- **软件架构分析、设计和测试**；
- **软件架构发现、演化和重用**；
  - 软件架构发现属于逆向工程，解决如何从已存在的系统中提取软件架构的问题。
  - 软件架构演化是出于需求、技术、环境和分布的变化而导致架构变动。
- **软件架构开发方法**；
  - 软件开发模型是跨越整个软件生存周期的，从开发、运行和维护所实施的全部工作和任务的结构框架。一般有三种：
    - 瀑布模型。以软件需求完全确认为前提。
    - 渐进式开发模型。如螺旋模型等，在软件开发初期只能提供基本需求为前提。
    - 变换模型。以形式化开发方法为基础。
- **架构风格**；
  - 架构风格（架构模式）是针对给定场景中经常出现的问题提供的一般性可重用方案，反映的是领域中众多系统中共有的结构和语义特征，并指导如何将各个子模块和子系统有效地组成一个完整的系统。分类：
    - 数据流风格。
    - 调用/返回风格。
    - 独立组件风格。
    - 虚拟机风格
    - 仓库风格。
- **动态软件架构**。

### 4.普及应用阶段（2000年至今）

软件架构是软件生命周期的重要产物，它影响软件开发的各个阶段：
- 需求阶段。
- 设计阶段。
- 实现阶段。
- 维护阶段。


## 软件架构的常用分类及建模方法

### 1.软件架构的常用分类

目前已形成的满足**不同用途**的架构模式，比较典型的有分层架构、事件驱动架构、微核架构、微服务架构和云架构等五类。此外像C/S、B/S、管道-过滤器和PAC等架构也是被广泛使用的。

#### 1.分层架构（LA）

Layered Architecture是最常见、也是事实上的标准架构。层与层之间通过接口进行通信，每一层都有清晰的角色和分工。

最常见的四层结构：

|层次|功能|
|---|---|
|表示层|用户界面、负责视觉和用户互动|
|业务层|实现业务逻辑|
|持久层|提供数据，SQL语句就在这一层|
|数据层|数据库保存数据|


有的项目在业务层和持久层之间加了一个服务层（Service），提供不同业务逻辑需要的一些通用接口。

#### 2.事件驱动架构（EDA）

Event-Driven Architecture，Event是状态发生变化时软件发出的通知。

事件驱动架构是**通过事件进行通信**的软件架构，是一种流行的**分布式异步架构**模式，适用于**松散耦合**系统。

![EDA架构](https://sustamp.github.io/assets/pictures/ruankao/EDA.png)


它分成四个部分：

|结构|名称|功能|
|---|---|---|
|1|事件队列|接收事件的入口|
|2|分发器|将不同事件分发到不同的业务逻辑单元|
|3|事件通道|分发器与处理器之间的连接通道|
|4|事件处理器|实现业务逻辑，处理完成后会发出事件，触发下一步操作|


对于简单的项目，事件队列、分发、通道可以合为一体，整个软件就分成**事件代理**和**事件处理**器两部分。

观察者模式常被叫做发布-订阅模式，事件驱动架构是观察者模式的一种最佳实践，常应用于商品系统，物流系统，监控系统，运营数据分析系统等。

#### 3.微核架构

微核架构（Microkernel Architecture）又称为插件架构（Plug-in Architecture），是指软件的内核相对较小，主要功能和业务逻辑都通过插件实现。

1. 核心系统（**内核**）：负责和具体业务功能无关的通用功能（系统运行的最小功能）。
   - 例如模块加载、模块间通信等。
2. **插件**模块：负责实现具体的业务逻辑。
   - 插件之间的通信应该减少到最低，避免出现互相依赖的问题。

![微核架构](https://sustamp.github.io/assets/pictures/ruankao/Microkernel-Architecture.png)

#### 4.微服务架构

Microservices Architecture是SOA（Service-Oriented Architecture，服务导向架构）的升级。

每个服务都是一个**独立的部署**单元（Separately Deployed Unit）。这些单元都是**分布式**的，互相解耦，通过远程通信协议（如REST、SOAP）联系。

> **能拆就拆**成一个服务。

微服务架构分成三种实现模式：

|模式|介绍|
|---|---|
|RESTful API模式|服务通过API提供，云服务就属于这一类。|
|RESTful 应用模式|服务通过传统的网络协议或应用协议提供，背后通常是一个多功能的应用程序，常见于企业内部。|
|集中消息模式|采用消息代理（Message Broker）实现消息队列、负载均衡、统一日志和异常处理，缺点是会出现单点失败，消息代理可能要做成集群。|


#### 5.云架构

> IaaS、PaaS、SaaS

Cloud Architecture主要解决**拓展性**和**并发**的问题，是最容易拓展的架构。

它的高拓展性体现在将数据都复制到内存中，变成可复制的内存数据单元，然后将业务处理能力封装成一个个处理单元（Processing Unit）。
- 若访问量增加就增加处理单元。
- 若访问量减少就关闭处理单元。

由于没有中央数据库，所以拓展性的瓶颈就消失了。由于每个PU的数据都在内存中，需要进行数据持久化。云架构主要分成两部分：

|结构|功能|
|---|---|
|处理单元(Processing Unit)|实现业务逻辑|
|虚拟中间件(Virtual Middleware)|负责通信、保持会话控制、数据复制、分布式处理和处理单元的部署|

![微核架构](https://sustamp.github.io/assets/pictures/ruankao/Cloud-Architecture.png)

### 2.软件架构的常用建模方法
4种模型并不完全独立，通常需要互相组合来形成一个可以刻画软件架构的完整模型。

#### 1.结构模型
这是一个最直观、最普遍的建模方法。

此方法以架构的**构件**、**连接件**和**其他概念**来刻画结构。通过结构来反映系统的重要语义内容、包括配置、约束、隐含的假设条件、风格和性质。

研究结构模型的核心是**架构描述语言**。

#### 2.框架模型
框架更**侧重整体**的结构，但不太侧重结构的细节。

框架模型主要以一些特殊的问题为目标建立只针对和适应问题的结构。

#### 3.动态模型
动态模型是对结构或框架模型的补充。主要研究系统的**大颗粒**行为的性质。例如描述系统的重新配置和演化。

#### 4.过程模型
过程模型是研究构造系统的步骤和过程，其结构是遵循某些过程脚本的结果。

## 软件架构应用场景及未来发展
### 1.应用场景

|架构风格|应用场景|
|---|---|
|管道-过滤器风格|面向数据流的流入和流出，用于将系统分成若干独立的步骤|
|主程序/子系统和面向对象架构风格|用于对组件内部进行设计，如主程序调用子程序，对象调用对象|
|虚拟机风格|用于构造解释器和专家系统|
|C/S和B/S风格|适用于数据和处理分布在一定范围，通过网络连接构成的系统|
|平台/插件风格|用于具有插件拓展功能的应用程序|
|MVC风格|用于用交互设计的程序|
|SOA风格|用于企业集成等方面|
|C2风格|用于GUI软件开发，用于构建灵活和可拓展的应用系统等|

大型软件很少使用单一的架构风格，而是混合多种风格进行设计和开发。从不同视角描述大型软件系统的能力，并保证系统可靠性、可拓展性、可维护性等非功能属性的正确描述。

### 2.未来发展
架构发展的主线可以归纳为：
- 模块化编程/面向对象编程
- 构件技术
- 面向服务开发技术
- 云技术


## 1.计算机系统基础知识
### 1.1 计算机系统概述（定义、组成和分类）
计算机系统是指用于数据管理的计算机**硬件**、**软件**、及**网络**组成的系统。它是按照人的要求接受和存储信息，自动进行数据处理和计算，并输出结果的机器系统。

![计算机系统组成](https://sustamp.github.io/assets/pictures/ruankao/Composition-Computesystem.png)


### 1.2 计算机硬件

计算机硬件组成结构源于**冯·诺依曼计算机结构**。

#### 1.2.2 处理器
计算机系统运算和控制核心部件。

位宽：4位 -> 64位。

内核：单核 -> 多核、异构多核、众核。

##### 典型的的计算机体系结构
典型的处理器系统结构：

----指令部件  
---运算部件--寄存器--存储部件  
-----Cache部件--MMU部件  
--完成部件  
-----地址总线  
-----数据总线  

###### CPU的关键部件及作用

|部件|作用|特点|
|---|---|---|
|指令寄存器（IR）|保存当前正在执行的命令。当CPU执行一条指令时，先把它从内存取到数据寄存器（DR）中，然后再传送至IR|位数与指令字长相同（如32位CPU的IR为32位），内存来自内存，通过数据总线加载|
|指令译码器（ID）|将指令寄存器（IR）的指令**解码**为控制信号，被ALU等控制器所识别，从而执行正确的操作|对指令 `ADD R1, R2`，ID解码后生成信号：选择R1和R2作为ALU输入，启用加法操作，结果写回R1|
|数据寄存器（DR）|存储算数逻辑运算（ALU）的输入、输出数据|与CPU字长相同（如32位DR对应32位数据）|
|地址寄存器（AR）|保存当前CPU所访问的内存地址（如变量、指令的地址），用于访问数据（如加载/存储操作）|与数据寄存器分离，专用于地址传输|
|程序计数器（PC）|为保证程序指令的顺序执行，PC设计为存放下一条的内存地址|每取一条指令后，PC通常+1（或+指令长度）|


##### 指令集（CISC、RISC）
- 复杂指令集(CISC)：Complex Instruction Set Computer。
- 精简指令集(RISC)：Reduced Instruction Set Computer。

> - RISC的核心思想：让**硬件做简单**的事情，复杂的交给软件**。

|指令集/比较|RISC|CISC|
|---|---|---|
|指令|等长指令，数量少且功能简单，使用频率相近|数量多，使用频率相差很大，可变定长|
|寻址方式|寻址方式少且简单|多种寻址方式|
|实现方式|增加多个通用寄存器，减少内存访问；硬布线电路控制；适合采用流水线|微程序控制|
|其他|对编译要求高，支持高级语言|指令直接在主存处理，执行速度慢，周期长。|


RISC为趋势，化繁为简。RISC的特点：
1. **指令长度固定**：使用等长指令，目前典型长度为32位或64位。
2. 指令**功能简单**：避免复杂指令。
3. 寻址方式**少且简单**，一般为2-3种；绝不出现存储器间接寻址方式。
4. **大量通用寄存器**：减少内存访问延迟。
5. **硬布线电路编码**：减少控制单元复杂度，获得更快的执行速度。

与RISC对比，则要说下CISC的缺点：
1. 微程序设计是CISC的重要支柱：每条复杂指令都要通过一段解释性微程序才能完成，降低了机器的处理速度
2. 指令系统过分庞大：让高级语言的指令范围也大，并让编译程序本身冗长而复杂。
3. 强调完善的中断机制：导致动作繁多，设计复杂，研制周期长
4. 芯片设计难度大：*你丫这么多指令和种类，设计起来能不复杂吗？*


##### 专用处理器（CPU、GPU、DSP、FPGA）
随着时代发展而设计出的专用目的的处理器有：

|处理器|介绍|
|---|---|
|图形处理器(**GPU**)|Graphics Processing Unit，具有数百或数千个内核，经过优化可并行运行大量计算|
|数字信号处理器(**DSP**)|Digital Signal Processor采用**哈佛结构**，专用于实时处理数字信号|
|现场可编程逻辑门阵列(**FPGA**)|Field-Programmable Gate Array，是一种由用户进行编程配置的集成电路|

图形处理器近些年在深度学习和机器学习领域得到了广泛应用。

数字信号处理器：
- 将存储器空间划分成两个，分别存储程序和数据。
- 它们有两组总线连接到处理器核允许同时对它们进行访问，每个存储器独立编址,独立访问。

现场可编程逻辑门阵列的主要用途有：
- 硬件加速：FPGA加速特定计算任务，如图像处理、信号处理、加密算法等。
- 原型验证：在ASIC（Application-Specific Integrated Circuit，专用集成电路）设计过程中，FPGA常用于验证设计的正确性，因为它可以快速重新配置。
- 嵌入式系统：FPGA可以集成到嵌入式系统中，实现复杂的控制逻辑和数据处理功能。
- 通信系统：FPGA在通信系统中广泛应用，用于实现协议处理、信号调制解调等功能。
- 数据中心：在数据中心中，FPGA可以用于加速特定的计算任务，提高服务器的性能和效率。

#### 补充知识-流水线
(1) 概念

1. 流水线的**吞吐率**：
   - 单位时间内流水线处理的任务数


(2) 相关计算公式

```math
计算机流水线执行周期 = 最慢那个指令的执行时间。
```

```math
流水线执行时间 = 首条指令执行时间 + (指令总数 - 1) * 流水线执行周期。
```

```math
流水线吞吐率 = 指令数（任务量） / 完成时间。
```

> 如果各段流水的操作时间不同，则流水线的吞吐率是 **最长流水段操作时间 的倒数**

```math
流水线加速比 = 不采用流水线的执行时间 / 采用流水线的执行时间。
```

#### 补充知识-单处理器并发进程与死锁问题

>- 问题1：若一个单处理器的计算机系统中同时存在3个并发进程，则同一时刻允许占用处理器的进程数（）；
>- 问题2：如果这3个进程都要求使用2个互斥资源R，那么系统不产生死锁的最少的R 资源数为（）个。


问题1分析：
- 单处理器系统：指的是只有一个中央处理单元（CPU）的计算机系统。这意味着在任何给定的时刻，只有一个进程可以实际占用处理器并执行指令。
- 并发进程：指的是多个进程在宏观上看起来是同时运行的，但实际上在单处理器系统中是通过时间分片（time-sharing）或上下文切换（context switching）来实现的。即处理器在不同的进程之间快速切换，给人同时运行的错觉。

综上，同一时刻允许占用处理器的进程个数是：1。

问题2分析：
- 死锁的发生需要同时满足以下四个必要条件：
  1. 互斥：资源一次只能由一个进程占用。
  2. 占用并等待：进程**持有至少一个资源**，并等待获取其他被占用的资源。
  3. 非抢占条件：已分配给进程的资源不能被其他进程强行夺取，必须由进程自行释放。
  4. **循环等待**：存在一个进程的循环链，每个进程都在等待下一个进程所占用的资源。

根据题干，每个进程都需要2个资源，我们先考虑最坏的情况：一共有3个资源让3个进程使用，那么：
- 进程1获取R1，等待另一资源R
- 进程2获取R2，等待另一资源R
- 进程3获取R3，等待另一资源R
- 此时所有资源都已被占用，所有进程都在等待，死锁发生。

假设进程数为`k`，每个进程需要`n`个资源，那么**避免死锁的最少资源数** `m` 可以通过如下公式计算：

```math
m >= k * (n - 1) + 1
```

所以答案：n = 3 * (2 - 1) + 1 = 4

#### 1.2.3 存储器
存储器是用来存放程序和数据的记忆设备。大多是半导体、光、磁等介质制成。

> 问题：假如有4块80T的硬盘，采用RAID6组建磁盘阵列的容量是多少？
> - RAID6是啥？

##### 存储器的分类
###### 按存取方式

|存取方式分类|类型|用途|
|---|---|---|
|随机存取存储器（RAM）|||
||静态随机存储器（SRAM）|CPU的L1/L2/L3Cache|
||动态随机存储器（DRAM）|一般用作内存|
||磁碟|机械硬盘（HDD）|
||NAND Flash（闪存）|固态硬盘（SSD）|
|只读存储器（ROM）|||
||只读存储器（ROM）|通常用于存储固定程序或数据，如显卡、网卡等硬件的控制程序|
||可编程只读存储器（PROM）||
||可擦可编程只读存储器（EPROM）||
||电可擦可编程只读存储器（EEPROM）||
|顺序存取存取器（SAM）||必须按顺序访问数据（如磁带），读写速度依赖物理位置。如磁带、CD-R|

> - NVRAM: Nonvolatile Random Access Memory，非易失的随机存储器。
> - EPROM: Erasable Programmable Read-Only Memory，可擦可编程只读存储器。

###### 按易失性

|按易失性分类|断电后数据|用途|
|---|---|---|
|易失性存储器|丢失|DRAM、SRAM|
|非易失性存储器|保留|ROM、SSD、HDD|

###### 按物理介质

|按物理介质分类|技术原理|用途|
|---|---|---|
|SRAM|触发器（Flip-Flop）|CPU高速缓存（L1/L2/L3）|
|DRAM|电容+晶体管（需刷新）|主存（内存条）|
|NAND Flash|浮栅晶体管（块擦除）|SSD、U盘、手机存储|
|NOR Flash|支持随机访问，速度较快|BIOS固件、嵌入式系统|
|磁存储|磁碟磁化（HDD）|机械硬盘|
|光存储|激光刻录|光盘、蓝盘（CD/DVD/BD）|


##### 存储器分级存储体系（片上缓存、片外缓存、主存和外存）


计算机系统的存储器通常采用**分级存储体系（memory hierarchy）**。

![内存层次结构](https://sustamp.github.io/assets/pictures/ruankao/memory-hierarchy.png)

分层结构的关键设计思想是：
- **速度 - 容量 - 成本权衡**：主要目的是为了解决存储的容量、价格和速度之间的矛盾。
- **局部性原理**：程序中大部分指令是**顺序存储、顺序执行**的，程序倾向重复访问相同或相邻的数据，分层结构利用这一点将热点数据放在高速层以提升效率。
  - 时间局部性：最近访问的数据（指令）很可能再次被访问。（*程序中存在大量的循环操作*）
  - 空间局部性：相邻的数据很可能一起被访问。（*顺序执行或数组*）
- 透明性：操作系统和硬件自动管理数据在各层间的移动。
  - 如缓存替换算法、虚拟内存机制


|层级|（与处理器距离）作用|管理方式|容量|
|---|---|---|---|
|通用寄存器（触发器电路）|（CPU核心内部）直接集成在CPU的运算单元（ALU）中，直接供CPU执行指令时存取数据，存储当前正在处理的指令、操作数或中间结果。速度极快（1个时钟周期内完成）|指令显示访问|容量极小：几十字节|
|片上缓存（SRAM）|（CPU核心内部）在处理器核心直接集成的缓存。**缓存主存数据**，利用**局部性原理**减少CPU访问主存的延迟|硬件自动管理|见L1/L2/L3Cache|
||L1缓存(片上)（CPU核心内部）|硬件自动管理|KB级（16~512KB）|
||L2缓存(片上)（CPU芯片内，核心附近）|硬件自动管理|MB级|
||L3缓存(片上)（CPU芯片内，多核心共享）|硬件自动管理|MB~GB级|
|~~片外缓存（SRAM）~~|（CPU核心外部）L2Cache/L3Cache，通过交换开关访问|（早期计算机可能将L2/L3缓存放在CPU芯片外，但现代CPU已将所有缓存集成在片上，L1/L2/L3均属于片上缓存，**片外缓存概念已基本消失**）|见L2/L3Cache|
|主存(内存)（DRAM）|（主板上的内存条）以独立的部件/芯片存在，通过总线与处理器连接，**存储正在运行的程序和数据**，供CPU直接读写。作为CPU与外存之间的桥梁。依赖不断充电维持其数据|操作系统+硬件|GB~TB级|
|外存（SSD/HDD）|（外部存储设备）磁盘、磁带、光盘和各类Flash等，这类设备访问速度慢，但容量大，且在掉电后能保持其数据|文件系统|TB~PB级|

> 外存储器使用年限：
> - Flash < 10年
> - 光盘 0 < y < n * 10年
> - 磁盘 > 10年
> - 磁带 > 30年

###### 关于Cache的性能计算
Cache改善系统性能的依据是局部性原理，程序中大部分指令是顺序存储、顺序执行的。

cache的访问是有命中率的，有关Cache的性能计算，大致是计算平均时间。由于CPU取数包括：**指令** + **数据**，所以平均时间计算一般为是：
- 取指令时间 + 取数时间

我们要把命中和不命中情况（访问Cache和访问主存）均考虑在内，大致的计算公式就是：
- CPU命中cache取指令时间 + CPU命中Cache取数据时间 + CPU访问主存取指令时间 + CPU访问主存取数据时间

假设Cache取指令的时间为：`t1`，在主存取指令时间为：`t2`, Cache的取指令的访问命中率为：`h`，则Cache取指令的平均访问时间(`ta`)为：
- ta = h * t1 + (1-h) * t2

(*取数据时计算同上理*)

#### 1.2.4 总线

总线是一组能为多个部件**分时**、**共享**的公共信息传输线路。是计算机**部件间**遵循某一特定协议**实现数据交换的形式**。

> - 分时 | 共享：同一时刻仅准许一个部件向总线发送信息 | 但可以让多个部件从总线上接收信息。

##### 总线性能指标
- 总线带宽
- 总线服务质量（QoS，Quality of Service）
- 总线时延
- 总线抖动

##### 总线种类
###### 按位置划分为

|位置|说明|
|---|---|
|内总线|用于芯片内部互联|
|系统总线|计算机中CPU、主存、IO接口的总线|
|外部总线|又称为通信总线，是计算机板和外部设备之间，或计算机系统之间互联的总线。|

###### 按功能划分

|功能|说明|
|---|---|
|数据总线（DB）|*Data Bus*。在CPU和RAM之间来回传送所需要处理或存储的数据。|
|地址总线（AB）|*Address Bus*。用来在RAM中存储数据的地址。|
|控制总线（CB）|*Control Bus*。将微处理器控制单元的信号传送到周边设备。|

###### 其他分类
常见的有：

|种类|特点|举例|
|---|---|---|
|串行总线|适合长距离传输，效率比并行总线低|USB,SATA,CAN,RS-232,RS-485,RapidI0和以太网|
|并行总线|效率高，但不宜过长，近距离连接。|多用于计算机内部，如PCI,PCIe fn ATA|

串行总线的特点：
1. 单工/半双工/全双工，适合长距离传输
2. 串行总线按bit（位）发送和接收
3. 大部分串行总线传输的波特率通常由通信双方约定，但可部分串行总线**动态调整**，部分总线（如CAN）甚至支持自适应波特率。
4. 串行总线的数据正确性依赖**校验**和**重传**。
5. 串行总线的数据发送和接收可以有多种方式：**查询**和**中断**。

> - 单工：只能实现发送或只能接收功能，即只有单向传输功能。
> - 半双工：轮流实现接收和发送，需要两个方向进行切换。比如：对讲机。
> - 全双工：既能接收又能发送，即可同时在两个方向上传输信息。有成对的发送和接收端 实现全双工功能。比如：座机。

#### 1.2.5 接口
计算机**不同层**之间的**通信规则**。例如有:
- 显示接口HDMI/DVI/VGA，
- 音频输入输出接口TRS/RCA/XLR，
- 网络接口 RJ45/FC，
- USB接口，
- SATA接口，
- 打印机接口等等。


#### 1.2.6 外部设备
外围设备，如鼠标，键盘，显示器，摄像头或其他移动穿戴设备。

### ∫ 补充-数据传输控制方式
这里主要讲I/O，即输入/输出设备与计算机交互的工作方式。

#### 程序控制（查询）方式
程序控制方式分为2种：
1. 无条件传送：CPU默认I/O时刻就绪，想用就调用。（*太理想化*）
2. **程序查询**：CPU会询问I/O是否准备好了再调用。
  - 这个方式简单，硬件开销小，但I/O能力不高，严重影响CPU性能。

> 如何理解程序查询方式？
> - 老师：你们都听得到我说话吗？有没有谁不在线的？
> - 学生们：听得到 | 在 | OK | 到！
> - 老师：好，大家都到齐了，我们开始上课！

#### 程序中断方式
CPU按期正常进行请求传输，无需询问或等待设备I/O状态。当有设备需要暂停进程时，则通知（**打断**）CPU暂停。

> 老师正常时间上课，学生有问题提出来就打断了老师讲课。

与程序控制方式相比，中断方式让CPU的效率大大提高（*毕竟不需要每次询问大家当前状态如何*）。适用于处理特殊情况、紧急情况等情景。

> 嵌入式系统中采用中断方式实现输入输出的主要原因就是：**能对突发事件作出快速响应**。

程序中断方式的处理过程大致如下：
- 当程序在执行过程中收到中断请求时，会出现断点，将 程序当前的所有状态 记录到**栈**中（*保护现场*） 。
- 出现断点后，会有相关软、硬件介入判断 中断的优先级 来响应 中断服务程序。根据中断向量表（*保存中断服务程序的入口地址*）查看 中断服务程序 并做出响应。
- 处理完 中断服务程序 后，CPU会从栈中恢复现场，继续执行。

> - 老师讲课被学生提出问题打断，此时上课内容终止，现场痕迹保留。
> - 老师根据实际情况（优先级）选择是否回答问题。
> - 若问题需要回答，则老师在解决问题后，继续上课。

综上，中断处理过程如下：

接收中断请求 -> 中断判优 -> 中断响应/处理 -> 中断返回

#### DMA方式（直接内存访问）
DMA是为了在主存与外设之间实现高速、批量数据交换而设置的。（*增设了一些硬件?*）

比 程序控制方式 和 中断方式 都高效。

DMAC（命令）会向总线裁决逻辑提出总线请求，CPU在处理完**当前总线周期**即可释放总线控制权。此时DMA响应，通过DMAC通知 I/O 接口开始DMA传输，此时就不需要CPU参与，所以更高效。

#### 通道方式、I/O处理机
这些都是通过 增加硬件 实现的传输方式，专用型更强，从 `程序中断方式 -> ... -> 通道方式 -> I/O 处理机`，效率会越来越高。

### ∫ 补充-磁盘管理
#### 磁盘结构

![磁盘结构](https://sustamp.github.io/assets/pictures/ruankao/Disk-Structure.png)

磁盘结构如上图所示：
- 盘面绕着轴心**匀速旋转**，每个盘面都有一个读写磁头，**磁头**只会在最外圈到盘面圆心的这一条直线上进行**伸缩**（垂直运动）。
- 磁道：每个盘面划分出不同的同心圆就是磁道，如果对磁道编号一般是从外到内：0~n 号磁道。
- 扇区：将盘面按一定角度进行分隔，会形成不同的扇面，每个扇面就是不同的扇区，扇区也有自己的编号。
- 数据物理块：每个磁道被扇区划出不同的一块块区域，这就是存储数据的物理块。当磁头移动到一个磁道，经盘面旋转而扫完这部分扇区时，就能读完这个区块的数据。
- 柱面：每个盘面相同编号的磁道（如0号磁道），在Y轴上看就像形成了一个空心圆柱，这就是柱面。

#### 磁盘存取时间

磁盘的平均存取时间是如下公式：

```math
磁盘平均存取时间 = 寻道时间 + 等待时间 + 读写时间（一般可以忽略不计）
```

- 寻道时间：磁头从当前磁道伸缩到目标磁道所花费的时间。
- 等待时间：盘面从当前扇区旋转到目标扇区所花费的时间。（*旋转延迟时间*）。
  - 比如某磁盘的每个磁道划分出 11 个物理块，磁盘旋转周期为 33ms。则每个物理块的旋转延迟 = 33 / 10 = 3 ms
- 读写时间：磁头读写完目标扇区全部数据的时间。（*一般忽略不计，若题目有提到才加入计算*）

#### 磁盘移臂调度算法
1. 先来先服务(FCFS)：*First Come First Served* | 按申请顺序依次服务。
2. 最短寻道时间优先（SSTF）：*Shortest Seek Time First* | 哪个磁道最近就先考虑谁，也叫**最短移臂调度算法**。
3. 扫描算法（SCAN）：电梯算法，磁头面向圆心作伸缩运动，从外到内或从内到外（双向）扫描时均可处理一次。
4. 循环扫描算法（CSCAN）：*Circular Scan* | 扫描算法双向的，循环扫描就是单向的。只能在规定的方向扫描时才能处理。如每次从外到内扫描时才处理一次。

### ∫ 补充-校验码
#### 奇偶校验
串口通信使用奇偶校验作为数据校验的方法，通信双方事先约定是奇校验还是偶校验。
- 奇校验：
  - 被传输的有效数据中 `1` 的个数为奇数个，则校验位填 `0`，否则填 `1`。
  - 如：1000110 (0)、1000100 (1)
- 偶校验：
  - 被传输的有效数据中 `1` 的个数为偶数个，则校验位填 `0`，否则填 `1`。
  - 如：1000110 (1)、1000100 (0)

#### 海明码
在数据中间加几个校验码，码距均匀拉大(*2^n*)，当某一位出错时会引起几个校验位的数值发生变化。

##### 海明不等式

```math
2^r >= r + m + 1
```

- `r`: 校验码的个数
- `m`: 信息位的位数
- `r + m`: 是编码后数据的总长度。

##### 海明码的编码规则
校验码存放在 2^n 的位置（*1、2、4、8、...*），n从0开始，其余位置为信息位。

|...|12|11|10|9|8|7|6|5|4|3|2|1|位数|
|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
|...|I8|I7|I6|I5||I4|I3|I2||I1|||信息位|
|...|||||r3||||r2||r1|r0|校验位|

#### 循环冗余校验码（CRC）
CRC（Cyclic Redundancy Check）广泛用于网络通信及磁盘存储时的数据校验。

使用多项式（模2除法）运算后的余数为校验字段，若信息位为 `n`，将其左移 `k`位，被长度为 `k+1` 的生成多项式相除，所得的K位余数即为 `K` 个信息位，构成 `n + K` 编码。

看题：假设原始信息串为 `10110`，CRC的生成多项式为 *G(x) = x^4 + x + 1*，求CRC校验码。

分析：
1. 构造**被除数**：在原始信息位后面添 *0*，假设生成多项式的阶为 *r*，则在原始信息位后填 *r个0*，作为被除数。
   - 本题中，G(x)的阶为4，则得被除数:  `101100000`。
2. 构造**除数**：多项式中x的幂指数存在的位置为1，不存在的位置为0，按权拼接的新串则为除数。
   - 本题中*x^4 + x + 1*，x的幂指数为*0, 1, 4*的位置都存在，*2, 3*位置不存在，按位计算实际是：*1x^4 + 0x^3 + 0x^2 + 1x^1 + 1x^0*，故提权得到的新串：`10011`。
3. 生成**CRC校验码**：将前两步得到的`被除数`和`除数`进行**模2除法**运算。
   - 模2运算：*任何数除以2，只保留余数：0或1*，核心特点是**所有运算结果只能是0或1**，忽略进位和错位。类似于逻辑运算中的**异或（XOR）**
   - 手算过程本质是不断用除数对齐被除数为`1`的最高位，并用XOR运算消去最高位，直到长度一致后就是最后结果
   - `101100000` 除以 `10011`，余数为：`1111`。
4. 生成最终发送信息串：将余数（CRC校验码）加到原始信息串末尾。
   - `101101111`
5. 接收方校验：接收方的CRC校验过程类似，将接收到的信息串用G(x)多项式来除，余数为0则表示信息无错，否则要求发送方进行重传。
   - `101101111` 除以 `10011`，余数为：0。

本题中，CRC校验码为：`1111`。


### 1.3 计算机软件
#### 1.3.1 计算机软件概述
##### 计算机软件的定义和作用
软件是指在系统上运行的**程序**、相关**文档**和**数据**的**集合**。

##### 计算机软件的分类
按作用和运行环境分为两大类：

|种类|说明|
|---|---|
|系统软件|为整个计算机系统配置的不依赖特定应用领域的**通用软件**，这些软件对计算机系统的硬、软件资源进行控制和管理，并未用户和其他软件提供服务|
|应用软件|为某类需要或解决某问题而设计的软件，如图像处理软件，财务软件，游戏软件等|


![软件层次](https://sustamp.github.io/assets/pictures/ruankao/software-hierarchy.png)


#### 1.3.2 操作系统
操作系统是计算机系统的**资源管理者**，包含对软、硬件资源实施管理的一组程序。旨在合理**共享和利用**资源，发挥工作**效率**，提升处理**性能**。

##### 操作系统的组成
操作系统的组成部分：
- **操作系统内核**
- 其他许多附加的配套软件。

操作系统内核指的是能提供如下功能的软件模块：
- 进程管理
- 存储管理
- 文件管理
- 设备管理

##### 操作系统的作用
1. **管理**计算中运行的程序和分配各种软硬件资源。
2. **提供**对用户友善的人机界面
3. 为应用程序的开发和运行提供一个高效率的**平台**。
4. 其他作用：辅导用户操作，监控系统性能等。

##### 操作系统的特征

||特征|说明|
|---|---|---|
|1|并发性|单核CPU的并发性是指在一段时间内，宏观上多个任务是并发执行的；多核CPU则可将多个程序分配到不同的CPU执行。|
|2|共享性|操作系统中的资源被多个并发进程共同使用，同时共享和互斥共享。|
|3|虚拟性|将物理实体变为逻辑上的多个对应物(1个硬盘分成C、D、E盘)，或把物理上的多个实体变为逻辑上一个对应物(2个8G内存组成16G内存)的技术|
|4|不确定性|多个进程并发执行，但具体到何时执行，何时完成的时间并不是确定的，经常可能要等待资源或事件的发生而获得CPU的执行能力，"走走停停"|

##### 操作系统的基本原理


###### 进程调度
(1) 进程的三态
- 就绪状态：完事具备（*已获得除CPU以外的所有资源*），只欠CPU。（一旦获得CPU使用权就可以立即运行）。
- 运行状态：进程正在运行。（*占用CPU的使用权，分时操作系统可能分到了CPU的时间片*）
- 阻塞状态：进程需要等待其他事件的发生，放弃CPU使用权，暂停运行。

(2) 进程的五态
三态模型是在内存中，若再引入外存，则在三态基础上增加两个状态，演变为五态模型。此时`就绪`、`阻塞`状态会增加前缀以便区分：
- 活跃就绪：内存中的进程处于就绪态。
- 活跃阻塞：内存中的进程处于阻塞态。
- 静止就绪：内存中`活跃就绪`的进程 或 处于`运行态`的进程 通过**挂起**方式放到外存中。之后可通过**恢复或激活**重新放回内存变为活跃就绪。
- 静止阻塞：内存中静止阻塞的进程通过**挂起**方式放到外存中。之后可同样通过**回复或激活**变为活跃阻塞。

###### 信号量
信号量S（Semaphore）是用来管理公用资源的有效手段，当S > 0 时表示有可用资源。

信号量被用于处理进程互斥、进程同步、进程前驱关系。

对信号量的应用主要体现在使用 **PV操作** 控制进程。

PV操作是一种用于进程同步与互斥的经典机制，我们把信号量 `S` 当成资源，那么：
- **P操作**：用于申请资源，减量操作：S = S - 1。
- **V操作**：用于释放资源，加量操作：S = S + 1。

P、V 操作必须成对出现，但没有严格的先后顺序，关键要看对信号量 `S` 的控制。

(1) 互斥

当进程间需要访问的资源存在临界资源时，使用信号量处理互斥关系：
识别进程中的临界资源个数，在执行前占用资源，执行后释放资源。（*先P后V*）

> 临界资源：也叫独占资源：一个时间段只允许一个进程访问的资源。

(2) 同步

当进程间需要访问的资源处在缓冲区，因不同进程的处理速度有快有慢，对缓冲区资源的控制就会有同步问题，我们利用生产者进程和消费者进程来进行说明：
- 生产者是生产资源放在缓冲区，消费者从缓冲区消费资源。
- 当缓冲区满额时，生产者进程不能继续生产资源，进程需要暂停；等待缓冲区有空间时，生产者进程才能继续运行。
- 当缓冲区有资源时，消费者进程可以运行；而当缓冲区没有资源时，消费者进程不能再继续消费，进程需要暂停。

此时我们再引入PV操作进行控制时，通常给生产者分配一个信号量S1，给消费者分配一个信号量S2。设定：
- S1 = n，n表示缓冲区中资源个数。
- S2 = 0

此时，PV操作的规则如下：
- 生产者生产资源前需要进行 `P(S1)` 操作（*S1 = S1-1*）：
  - 若结果S1 >= 0时，进程继续执行，生产资源后再进行 `V(S2)` 操作：S2 = S2 + 1。
  - 若结果S2 < 0，则缓冲区已满，进程暂停，不可再生产。
- 消费者消费资源前，先进行 `P(S2)` 操作（*S2 = S2-1*）：
  - 若发现结果大于0（即S2 > 0），则进程继续执行，此时缓冲区的资源被消费，之后还需 `V(S1)` 操作：S1 = S1 + 1，等于告知生产者又可以生产资源了。
  - 若结果 S2 < 0，则表示缓冲区已空，进程暂停，不可再消费。

(3) 前驱图

前驱图主要考察各进程的**前驱关系**，依赖PV成对出现的原理完成对信号量的设置，规律是：
- 有前驱的进程通常进行V操作释放信号量，如P1进程释放信号量S1：`V(S1)` 。
- 当前进程有前驱进程（如P1），则先 `P(S1)`操作：获取前驱进程的资源(`S1`)，执行完后再作V操作释放本进程的资源(假设是`S2`)： `V(S2)` 。

> 这部分内容看题目去理解。


##### 操作系统的分类

|操作系统|要点|
|---|---|
|批处理系统|通常不具备交互性，分为**单道批处理**和**多道批处理**。通常是将设定好的一批作业交给系统操作员输入计算机后，由系统控制它们自动运行。典型产品IBM OS/360和OS/390|
|分时操作系统|允许多个用户同时访问计算机资源，将CPU的工作时间划分为许多很短的时间片，轮流分配给每个用户使用。4个特点：**多路性**、**独立性**、**交互性**和**及时性**|
|实时操作系统|对外来信息以**足够快**的速度进行处理，并在**被控对象允许的时间内**做出快速反应。对交付能力要求不大，但可靠性要保证。分为**实时控制系统**（数据采集、武器控制、飞机自动驾驶、导弹制导系统等）和**实时信息系统**（飞机订票系统，情报检索等）|
|网络操作系统|网络操作系统使联网计算机能方便而有效地**共享网络资源**|
|分布式操作系统|多个分散的计算机连接而成的计算机系统。是网络操作系统的更高级形式，同时还有透明性、可靠性和高性能等特性|
|微型计算机操作系统|简称微机操作系统，常用的有Windows、MacOS、Linux|
|嵌入式操作系统|运行在嵌入式智能设备中，主要特点是：**微型化**、**可定制**、**实时性**、**可靠性**、**易移植**|


> 相关说明：
> - 微型化：占用的资源和系统代码量少。
> - 可定制：能针对硬件变化进行结构与功能上的配置，以满足不同需要。
> - 实时性：嵌入式操作系统常用在需要**迅速响应的场合**（过程控制、数据采集、传输通信、多媒体信息及关键要害领域），所以对实时性要求较高。
> - 可靠性：系统构件、模块和体系结构必须达到应用的可靠性，必要时还要提供容错和防故障措施。
> - 易移植：屏蔽掉硬件差异，采用硬件抽象层和板级支撑包等底层设计技术。
  

##### 批处理操作系统和分时操作系统
##### 网络操作系统及分布式操作系统
##### 嵌入式操作系统与实时操作系统


#### 1.3.3 数据库系统
##### 数据库的定义、作用
数据库是指长期存储在计算机内的，有组织的、统一管理的**相关数据的集合**。

##### 数据库的种类
目前最常见的是关系型数据库和非关系型数据库。

根据存储体系分类如下：

|数据库|说明|
|---|---|
|关系型数据库|二维表|
|键值对数据库|将数据存储为键值对集合，键作为唯一标识|
|列存储数据库|表中数据的存储形式为列|
|文档数据库|可存放并获取的文档，如XML,JSON,BSON等格式|
|搜索引擎数据库|应用在搜索引擎领域的数据存储形式，由于搜索引擎会爬去大量的数据，并以特定的格式进行存储，这样在检索的时候才能保证性能最优|

##### 数据库管理系统的基本原理

##### 关系型数据库系统（数据模型、关系描述和数据库设计）

##### 分布式数据系统（结构和应用）

##### 数据库管理系统（定义、特点和产品）

###### Oracle、IBM DB2、Sybase等

#### 1.3.4 文件系统
##### 文件系统的定义、作用
文件系统是指操作系统中实现文件统一管理的一组软件和相关数据的集合。

##### 文件的类型

- 用途分：
  - 系统文件、库文件、用户文件
- 保存期限分：
  - 临时文件、档案文件、永久文件
- 保护方式分：
  - 只读、读写、可执行文件
- UNIX系统分：
  - 普通文件、目录文件、设备文件
  
文件系统类型（或叫**磁盘格式**）：
- FAT
  - 文件分配表（File Allocation Table）的缩写。早期的文件系统技术，对文件名命名有诸多约束。
  - 目前基本不再使用。
- VFAT
- NTFS
  - New Technology File System，用在windows系统上，取代了老式的FAT文件系统。
  - NTFS文件系统所具备3个功能：错误预警功能、磁盘自我修复功能和日志功能。
- Ext2
  - Ext系列常用在linux和unix系统上。
- HPFS


```java
public enum FileSystemType {
  FAT,
  VFAT,
  //windows
  NTFS,
  //linux、unix
  Ext2,
  HPFS
  ;
}
```

##### 文件的结构和组织
###### 1.文件的逻辑结构
用户角度看到的文件组织形式（在哪个文件夹下叫什么名）。分2类:
- **有结构**的记录式文件。由一个以上的记录构成的文件。
- **无结构**的流式文件。它是一串顺序字符流构成的文件（字节流）。

###### 2.文件的物理结构
从实现角度看，指的是文件在文件存储器上的存放方式。

(1) **连续结构**（顺序结构）

将逻辑上连续的文件信息一次存放在连续编号的物理块上。只要知道文件的起始物理块号和文件的长度就可以很方便地进行文件读取。


(2) **链接结构** (串联结构)

将逻辑上连续的文件存放在不连续的物理块上，每个物理块设有一个指针指向下一个物理块。

因此，只要知道文件的第1个物理块号，就可以按链指针找到整个文件。

(3) **索引结构**

将逻辑上连续的文件信息存放在不连续的物理块上，系统为每个文件建立一张索引表。

索引表记录了文件信息所在的逻辑块号对应的物理块号，并将索引表的起始地址放在与文件对应的文件目录项中。

(4) **多个物理块的索引表**

索引表是在文件创建时由系统自动建立的，并与文件一起存放在同一文件卷中。

根据一个文件大小的不同，索引表占用物理块的个数不等。多个物理块的索引表有2种组织形式：
- 链接文件
- 多重索引方式

> 文件索引节点法计算方法？


##### 文件的存取方法
文件的存取方法是指读/写文件存储器上的一个物理块的方法。通常是：
- 顺序读取
- 随机读取

##### 存储空间的管理
###### 1.空闲区表
将外存空间上的一个**连续未分配区域**叫做空闲区。适用于文件连续结构

###### 2.位示图（BitMap）
在外存上建立一张位示图，记录文件存储器的使用情况。每一位对应文件存储器上的一个物理块：
- 0：空闲。
- 1：占用。

> 考点：3星

![文件存储-位示图](https://sustamp.github.io/assets/pictures/ruankao/File-Bitmap.png)

上图所示的位示图中：
1. 字编号从1开始的。每个字字长=16位。
2. 位数编号从0开始，每1位表示一个物理块，即物理块的编号从0开始的。


###### 3.空闲块链
每个空闲物理块有指向下一个空闲物理块的指针，所有空闲物理块构成一个链表。

链表的头指针放在文件存储器的特定位置上（如管理块中），不需要磁盘分配表，节省空间。

每次申请空闲物理块只需根据链表的头指针取出第1个空闲物理块，第1个空闲物理块有指针可找到第2个空闲物理块，依次类推。

###### 4.成组链接法
Unix系统采用该方法。

在实现时系统将空闲块分成若干组，例如每100个空闲块为1组，每组的第1个空闲块登记下一组空闲块的物理编号和空闲块总数。假如某个组的第1个空闲块号等于0，则表示这是最后一组。


##### 文件共享和保护
###### 文件共享
文件共享是指不同用户进程使用同一文件，它不仅是不同用户完成同一任务所必须的功能，还可以节省大量主存空间，减少由于文件复制而增加的访问次数。

使用**文件链接**的方式实现文件共享：
- **硬链接**：不同文件名与同一个文件实体的链接。
  - 也叫基于**索引节点**的链接，不利于owner删除它拥有的文件（必须先删除所有的硬链接）。
- **符号链接**：建立新的文件和目录，与原来文件或目录的路径名进行映射。
  - 采用符号链接可以跨越文件系统，甚至可以通过计算机网络连接到世界上任何地方的机器中的文件，此时只需提供该文件所在的地址以及在该机器中的文件路径。

###### 文件的保护
文件的保护采用**存取控制**的方式进行。所谓存取控制，就是**规定**不同的用户对文件的访问有**不同的权限**，防止文件被未经主人同意的用户访问。

1. 存取控制矩阵：按个人划分权限，但是太大。
2. 存取控制表：按用户分类做权限控制。
3. 用户权限表：以用户或**用户组**为单位将用户可存取的文件集中起来存入表中。（存取控制矩阵的改进）
4. 密码：创建文件时，由用户提供一个密码，在文件存入磁盘时用密码对文件内容加密。
  

#### 1.3.5 网络协议
**不同**系统或**终端**之间要实现信息交换或资源分享，需要具备**共同能够理解的语言**，这就是网络协议。

网络协议规定了通信时的数据格式、传送时序、控制信息、应答信号等内容。

常用的网络协议有：
- LAN、WAN、WIFI、移动网协议
- 互联网使用的是TCP/IP协议族。

##### 局域网协议（LAN）
##### 广域网协议（WAN）
##### 无线网协议
##### 移动网协议

#### 1.3.6 中间件
##### 中间件的定义、作用
承担应用软件在不同系统上可顺利运行的中介，所以叫中间件，它作为应用软件与各种操作系统之间使用的**标准化**编程**接口和协议**。

![中间件的位置](https://sustamp.github.io/assets/pictures/ruankao/Middleware.png)

##### 中间件的类型
中间件分类：
1. 消息中间件。
   - 如IBMMQ，ActiveMQ，Kafka等。
   - 建网和制定出通信协议，以保证系统能在不同平台之间通信，实现分布式系统中可靠、高效、实时的跨平台数据传输。
2. 事务处理（交易）中间件。
   - 每项事务在多台应用服务器间协调完成。如Tuxedo。
3. 数据存取中间件。
   - 经常用于分布式系统中，为虚拟缓冲存取、格式转换、解压等带来方便。
4. Web服务器中间件。
5. 安全中间件。
6. 跨平台和架构的中间件。
7. 专用平台中间件。
8. 网络中间件。
   - 包括网关、接入、网络测试、虚拟社区和虚拟缓冲等。
  
##### 中间件的典型软件产品
###### IBM MQSerires、BEA Tuxedo

#### 1.3.7 软件构件
##### 软件构建的定义和作用
构件：也叫组件，是一个**自包容**、**可重用**的程序集。

构件提供接口供外部来访问。（外部不能直接操作构件的内部）

构件是独立的，因此架构的开发也是独立的，构件之间通过接口相互协作。

> 乐高积木？


##### 软件构件的组装模型

搭积木式的开发，即构件组装。

###### 构架组装的流程

|流程|任务|
|---|---|
|1|需求分析|
|2|设计构件组装（明确各构件之间的关系）|
|3|建立构件库|
|4|构建应用构件（独立开发、重用、使用第三方构件等）|
|5|测试与发布|

###### 优点
- 自包容。
  - 构建之间通过接口访问，相互独立。
- 可重用。
  - 设计良好的构建容易被重用。降低开发成本。
- 颗粒度小。
  - 相对整个系统，构建颗粒度小，开发任务更加灵活，各个构建都可进行独立并行开发。
  
###### 缺点
- 需要**经验丰富**的架构设计师。
  - 否则结构设计不良，重用性也会降低。
- 性能上会有**让步**。
  - 考虑构建的独立性和重用性，会导致其他方面做出让步，最明显的就是性能。
- 有**学习成本**。
  - 需要程序员熟练掌握构件开发和组装。
- 软件**质量**不好控制。
  - 第三方的构件库质量会最终影响软件质量，而第三方构件库通常很难控制。（木桶原理：木桶容量是根据最短的那块木板决定的）

##### 商用构件的标准规范
###### CORBA
公共请求代理架构（CORBA， Common Object Request Broker Architecture）。主要有3个层次：

|层次|结构|作用|
|----|----|---|
|最上层|公共设施|定义了构建框架，提供可直接为业务对象使用的服务，规定业务对象有效协作所需的协定规则|
||公共对象服务|诸如并发服务、名字服务、事务（交易）服务、安全服务等|
|最底层|对象请求代理|是分布对象系统中的**软总线**，规定了分布对象的定义（接口）和语言映射，实现***对象间的通信**和互操作|

CORBA CCM (CORBA Components Model)：
- 一个用于开发和配置分布式应用服务器端**构件模型规范**。

主要包括3项内容：
1. 抽象构件模型：描述服务器端构件结构和构件间互操作的结构
2. 构件容器结构：提供通用的构件运行和管理环境，并支持对安全、事务、持久状态等系统服务的集成。
3. 构件的配置和打包规范：CCM使用打包技术来管理构件的二进制、多语言版本的可执行代码和配置信息，制定了构件包的具体内容和文档标准。


###### J2EE
EJB(Enterprise Java Beans，企业级Java Beans)的Bean可分为 `会话Bean` 和 `实体Bean`，前者维护会话，后者处理事务，通常由Servlet 负责与客户端通信，访问RJB，并把结果通过JSP产生页面返回给客户端。

> J2EE时代的框架流程： http请求 -> Servlet -> EJB bean -> JSP 

###### DNA2000

#### 1.3.8 应用软件
应用软件是指为**特定**的应用场景而**设计的软件**。

 应用软件按开发方式和适用范围分为：
 - 通用应用软件
 - 定制应用软件

##### 通用软件的定义、范围和类别
##### 专用软件的定义、范围和类别

### 1.4 嵌入式系统及软件

|结构|定义|
|---|---|
|嵌入式系统（Embedded System）|是为了**特定应用**而专门构建且将信息处理过程和物理过程紧密结合为一体的**专用**计算机系统。它对功能、可靠性、成本、体积、功耗、环境等综合性能要求严格。|
|嵌入式软件|是指可运行在嵌入式系统中的**程序代码**和帮助这些软件开发所用的**工具**或**环境**软件的总称。|


#### 1.4.1 嵌入式系统的组成及特点
##### 组成

|组成|说明|
|---|---|
|应用软件|最上层|
|支撑软件||
|嵌入式操作系统|与通用操作系统不同，它具备实时性、可剪裁性和安全性等特征|
|相关支撑硬件|除处理器外的其他硬件，包括存储器、输入输出设备、IO接口和网络总线|
|嵌入式处理器|比如ARM处理器|


> 1. 硬件：嵌入式处理器、支撑硬件
> 2. 软件：嵌入式操作系统、支撑软件、应用软件

  
嵌入式系统将**可配置**与**可裁剪**集成于一体，并具备相应的**安全性**。需要满足应用对**功能**、**成本**、**体积**、**可靠性**和**功耗**等方面的严格要求。

嵌入式系统是深埋于设备中，对设备的**各种传感器**进行管理和控制的系统。

##### 特点

|嵌入式系统|特点|说明|
|---|---|---|
|1|专用性强|面向特定应用需求|
|2|多学科技术融合|以应用技术为核心、计算机技术为基础、通信技术为载体、以消费类产品为对象，引入各类传感器，引入Internet网络技术作为连接|
|3|软硬一体，软件为主||
|4|占用资源少|微型化，只完成少数几个任务，不用通用CPU，比通用计算机资源少，成本低，结构简单|
|5|程序代码固化在非易失存储器中|编码体积小，固化是为了提高执行速度和系统可靠性|
|6|专门的开发工具和不同的环境|嵌入式系统本身不具备开发能力，开发和运行是在不同环境中进行的（**最大特点**）。开发环境为宿主机，运行环境为目标机|
|7|实时性强，对安全性和可靠性要求高|应用于**需要快速响应的场合**，并具备相应的安全性，实现可靠的功能|
|8|体积小、价格低、工艺先进、性价比高、系统配置要求低、实时性强|你这是总结？|

##### 嵌入式处理器及支撑硬件、环境要求及特点

##### 嵌入式软件集成开发环境

#### 1.4.2 嵌入式系统的分类

|角度|分类|说明|
|---|---|---|
|按用途||实时系统是指能够在**指定的时间内完成**系统功能，做出响应的系统|
||强实时系统（Hard Real-Time）|在deadline内必须完成|
||弱实时系统（Weak Real-Time）|deadline只是参考值|
||非实时系统||
|按安全性|||
||安全攸关系统（Safety-Critical / Life-Critical）|其不正确的功能或失效会导致人员伤亡、财产损失等严重后果的计算机系统，比如航天航空系统、飞行器|
||非安全攸关系统||

  
#### 1.4.3 嵌入式软件的组成及特点
下面介绍的嵌入式系统通用架构主要指**目标机环境**架构。

##### 嵌入式软件组成架构
嵌入式系统软件组成架构采用**层次化结构**，并具备**可配置**、**可剪裁**的能力

![嵌入式软件架构层次化结构](https://sustamp.github.io/assets/pictures/ruankao/EmbeddedSoftware-hierarchy.png)

|层次(5)|说明|
|---|---|
|应用层|嵌入式系统的具体应用|
|中间件层|独立于操作系统之上，在嵌入式系统中使用的产品主要是嵌入式数据库、OpenGL图形处理软件、JAVA中间件、虚拟机等|
|操作系统层|操作系统层由嵌入式操作系统、文件系统、图形用户接口、网络系统和通用组件等可配置模块组成。|
|抽象层|位于硬件层与软件层之间。主要是对硬件层的硬件进行抽象(HAL)，为上层的软件层（操作系统）**提供虚拟的硬件资源**，其中最核心的东西是板级支持包（BSP）。|
|硬件层|为嵌入式系统提供运行支撑的**硬件环境**，其核心是微处理器、存储器、IO接口和通用设备以及总线、店员、时钟等。|

> - 硬件抽象层（HAL）：Hardware Abstract Layer。
> - 板级支持包（BSP）：Board Support Package，是一种硬件驱动软件，面向硬件芯片或电路进行驱动，为操作系统提供对硬件的管理。


##### 嵌入式软件的特点
外部环境的变化会对系统硬件性能产生影响，硬件的变化必然会引起软件的反常。

比如，航天领域的辐射会引起存储器的负离子反转，那么存储数据就会发生变化。因此嵌入式软件也要适用恶劣环境的影响。

嵌入式软件的主要特点如下：

|嵌入式软件|特点|说明|
|---|---|---|
|1|可剪裁性|根据系统需求，进行适应性功能的加、减。（**想要的留下，不想要的删掉**）。方法：*静态编译、动态库、控制函数流程等*|
|2|可配置性|根据系统运行状态、容量、流程对软件功能进行拓展、变更和增量服务（**可变**）。方法：*数据驱动、静态编译、配置表等*|
|3|强实时性|嵌入式系统大多数属于**强实时性系统**，要求任务在规定的时限(Deadline)内完成。**算法优劣**是影响实时性的主要原因|
|4|可靠性|在系统规定的条件和时间周期内让**程序正常**执行的能力。方法：*容错技术、余度技术和鲁棒性设计*|
|5|安全性|系统在规定的条件和时间周期内**不出事**的能力。方法：*编码标准、安全保障机制、FMECA*|
|6|高确定性|系统行为是预先设计规划好的，不能因为时间、状态变化而变化（**行为不变**）。运行期间不能发生资源枯竭和未知状态出现，尤其是不能因未知错误引发灾难。方法：*静态分配资源、越界检查、状态机、静态任务调度等*|

> - FMECA：故障模式`failure mode`、影响及危害性分析`effects and criticality analysis`

  
##### 嵌入式软件开发与传统软件开发的差异

1. 嵌入式软件开发是在宿主机（PC或工作站）上使用专门的嵌入式工具开发，生成二进制代码后，需要使用工具卸载到目标机或固化在目标机主存器上运行。
2. 嵌入式软件开发更强调软/硬件协同工作的**效率和稳定性**。
3. 嵌入式软件对实时性、安全性和可靠性的要求更高
4. 嵌入式软件需要充分考虑代码规模。
5. 在Life-Critical的嵌入式系统中，其开发还要满足某些领域的设计和代码审定。
6. 嵌入式系统对模块化设计的要求更高，划分好的模块和子系统，有助于实现嵌入式系统的可配置和可剪裁的特点。

#### 1.4.4 安全攸关软件的安全性设计
##### 安全攸关软件的定义和作用
安全攸关软件的定义：
- 用于一个系统中，可能导致不可接受的风险的软件。

##### 安全性设计方法：DO-178
在**航天航空**、**轨道交通**、**核工业**等领域，系统的安全报障是至关重要的（D0-178标准）。D0-178的精髓贯穿在整个软件生命周期的各个过程之中，它主要有3个因素：
1. 目标
2. 过程
3. 数据

###### 目的

###### 安全等级划分

|等级|失效状态|说明|目标数量|
|---|---|---|---|
|A级|灾难性的|软件异常导致的后果：航空器**无法**安全飞行和着陆|66|
|B级|危害性的|软件异常导致的后果：**严重**降低航空器克服不利运行情况时的能力|65|
|C级|严重的|软件异常导致的后果：**显著**降低了航空器克服不利运行情况时的能力|56|
|D级|不严重的|软件异常导致的后果：**轻微**降低了航空器克服不利运行情况时的能力|28|
|E级|没有影响的|软件异常导致的后果：不影响航空器的任何能力|0|

###### 生命周期
D0-178B把软件生命周期分为3个主要过程：
1. （软件）计划过程。
2. （软件）开发过程：
   1. 软件需求过程
   2. 软件设计过程
   3. 软件编码过程
   4. 软件集成过程
3. （软件）综合过程：
   1. 软件验证过程
   2. 软件配置管理过程
   3. 软件质量保证过程
   4. 审定联络过程


###### 数据？
软件生命周期中产生的文档、代码、报表、记录等所有产品统称为软件生命周期数据。

> 需求文档、技术文档？ -> 代码开发 -> 业务报表 -> 日志记录、故障记录？


### 1.5 计算机网络
#### 计算机网络发展的四个阶段
#### 计算机网络的基本功能
1. 数据通信
2. 资源共享
3. 管理集中化
4. 实现分布式处理
5. 负载均衡

#### 网络有关指标
##### 性能指标

![网络性能指标概念示意图](https://sustamp.github.io/assets/pictures/ruankao/Network-Performance-Metrics.png)


|性能指标|说明|备注|
|---|---|---|
|速率|网速，在数字信道上传输的速率，单位：b/s||
|带宽|1.网络在**单位时间内可以传输的最大数据量**（水管容量），单位：b/s; 1.信号频道带宽，单位：Hz。||
|吞吐量|网络在**单位时间内实际传输的数据量**（从管道中流出的水）。受带宽或网络额定速率影响，吞吐量永远不会超过带宽||
|时延|数据从网络的一端传送到另一端所需的时间。（**水从一端到另一端的时间**）||
||发送时延|又称传输时延，至从数据块的第一个bit开始算起，到最后一个bit发完所需的时间|
||传播时延|电/光信号在传输**介质中传播**一定距离所要的时间|
||处理时延|检查分组首部和决定分组导向何处所需的时间|
||排队时延|在队列中，分组在等待传输时的时间|
|往返时间（RTT）|从发送方发送数据开始，到发送方接收到来自接收方的确认数据总共经历的时间||
|利用率|信道在60分钟内一直等待数据传输，但只有10分钟内有数据通过，信道利用率: 1/6||
||信道利用率|信道被利用的概率（即有数据通过），空闲信道的信道利用率为：0%|
||网络利用率|指全网络的信道利用率的加权平均值|

> - RTT：Round Trip Time


##### 非性能指标
1. 费用
2. 质量
3. 标准化
4. 可靠性
5. 可拓展性和可升级性
6. 易管理和维护


#### 通信技术
通信技术是计算机网络的基础，将数据从一个节点传送到另一个节点。

##### 信道

信道分为：
- 物理信道：由传输介质和设备组成，根据传输介质不同分为：有线信道和无线信道。
- 逻辑信道：以物理信道为载体，指在数据发送端和接收端之间的一条虚拟线路。

##### 1.香农公式
信道容量就是信道的最大传输功率，可通过香农公式计算得到：

```math
C = B * log_2(1 + S/N)
```

> - C：Capacity，信道容量，单位：b/s。
> - B：Bandwidth，信道带宽，单位：Hz。
> - S：Singal，信号平均功率，单位：W。
> - N：Noise，噪声平均功率，单位：W。
> - S/N：信道噪声比（信噪比），单位：dB。

由此可见，若想提升信道传输功率，可以提升信道带宽(`B`)，提升信道噪声比(`S/N`)。

##### 信号变换



##### 复用和多址
复用技术是指在一条信道上同时传输**多路数据**的技术。
- 如TDM时分复用、FDM频分复用和CDM码分复用。
- ADSL使用了FDM的技术，语音的上行和下行占用了不同的带宽。

多址技术是指在一条信道上同时传输**多个用户数据**的技术，在接收端把多个用户的数据分离。
- TDMA时分多址、FDMA频分多址、CDMA码分多址。

> - M：Multiple?
> - T：Time?
> - F: Frequency?
> - C: Code?
> - A: Address?

##### 5G通信网
5G网络的主要特征：
1. 服务化架构：SBA服务架构，实现网络功能的灵活定制和按需组合。
2. 网络切片：在单个独立的物理网络切分出多个逻辑网络，从而避免为每个服务建设一个专用的物理网络，极大地降低了建网和运维成本。

> SBA：Service-Based Architecture

#### 1.5.3 网络技术
网络按照覆盖区域和通信介质等特征可以分为：
- LAN
- WLAN
- MAN
- WAN
- 移动通信网

##### 局域网（LAN）（五类拓扑和以太网技术）
LAN（Local Area Network）是指在有限地理范围将若干计算机通过传输介质互联成的计算机组（通信网络），通过网络软件实现计算机之间的文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。

局域网专用性非常强，具有比较稳定和规范的拓扑结构。常见的有：
- 星状拓扑
- 树状结构
- 总线结构
- 环形结构
- 网状结构

###### 网络拓扑
(1) 星状拓扑

![星状结构网络](https://sustamp.github.io/assets/pictures/ruankao/Star-Topology.png)

> - 一个中心节点（控制中心），任意两节点间通信最多只需2步。
> - 优点：传输速度快、网络结构简单、建网容易、便于控制和管理。
> - 缺点：可靠性低、网络共享能力差。一旦中心节点故障则全网瘫痪。

(2) 树状结构

![星状结构网络](https://sustamp.github.io/assets/pictures/ruankao/Tree-Topology.png)

> - 优点：结构简单，方便寻找链路路径
> - 缺点：任何一个工作站或链路故障都会影响整个网络的运行（叶子节点和相连链路除外）

(3) 总线结构
总线结构网络是将各个节点设备和**一根总线**相连，所有节点设备通过总线进行信息传输。

![总线结构网络](https://sustamp.github.io/assets/pictures/ruankao/Bus-Topology.png)

> - 总线负载能力有限。（公交车载人额度）
> - 总线故障会影响每个节点。（公交车坏了不能上车了）

(4) 环形结构
一条首尾相连的通信链路将各个节点链接起来形成闭合环形结构。

![环形结构网络](https://sustamp.github.io/assets/pictures/ruankao/Ring-Topology.png)

- 各设备节点地位相同，信息按照单方向流动，两个节点仅有一条通路。
- 结构中无信道选择问题，任一节点故障将导致物理瘫痪。
- 闭环结构不便扩充。
- 系统响应时延长，传输效率较低。（因信息只能单方向流动，要么都是顺时针/逆时针）

(5) 网状结构
网状结构网络中的任何节点都会存在一条通信链路，任何节点故障都不会影响其他节点之间的通信。但这种结构的网络布线繁琐，建设成本高，控制方法复杂。

![网状结构网络](https://sustamp.github.io/assets/pictures/ruankao/Mesh-Topology.png)

###### 以太网技术
以太网(Ethernet)是一种局域网组网技术，技术标准：IEEE 802.3标准。

以太网规定**最小帧长**：64字节，**最大帧长**：1518字节（最大的数据帧为1500字节）。

(1) 以太网结构

DMAC + SMAC + Length/Type + DATA/PAD + FCS

> - DMAC：Destination MAC Address，目的MAC地址。
> - SMAC：Source MAC Address，源MAC地址。
> - Length/Type：帧长度（`值<1500时`）或帧类型（`值>1500时`）。
> - DATA/PAD：数据域（最小帧长>=64字节）或填充域（当数据长度加帧头<64字节时要增加填充内容）。
> - FCS：Frame Check Sequence，帧校验码。

(2) 最小帧长

设置最小帧长的目的是为了避免冲突，最小帧长是根据**网络中检测冲突的最长时间**来定的。

要使CSMA/CD（载波多路复用/冲突检测）有效工作，数据帧要大于等于冲突检测需要的时间，所以：
- `最小帧长` = `冲突检测时间` * `数据传输速率`。

由于 CSMA/CD 算法限制，最小帧长64字节。

> - CSMA/CD：Carrier Sense Multiple Access with Collision Detection，带有冲突检测的载波侦听多路访问。

(3) 最大帧长

设置最大帧长目的是为了**避免某一主机长时间占用信道**。

信道是所有主机共享的，如果某主机发送的数据帧太长，就会长时间占据信道，影响其他主机通信。

(4) 最大传输距离

不限，由线路质量、信号衰减程度等因素决定。

(5) 流量控制

当通过交换机接口流量过大时，超过了它的处理能力时，就会发生端口阻塞。


##### 无线局域网（WLAN）（WLAN标准和三类拓扑）
WLAN(Wireless Local Area Network)是以无线通信作为传输方式的局域网，是实现移动计算机网络的关键技术之一。

传输介质：**微波**、**激光**与**红外线**，取代有线传输介质。

架设WLAN需要无线网卡和访问接入点AP（Access Point）。

###### 优点
与有线网络相比，WLAN具有安装便捷、使用灵活、经济节约、易于拓展等优点。

##### 广域网（WAN）（特点、分类和相关技术）
WAN（Wide Area Network）是一种将更广区域内（城市、国家或国家之间）分布的计算机设备联接起来的网络。由通信子网和资源子网组成：
- 通信子网：通信节点设备和连接这些设备的链路。
- 资源子网：网络资源设备，如业务服务器、用户计算机、网络存储系统、网络上运行的各种软件资源、数据资源等。

###### 特点
- 覆盖范围广
- 通信距离远
- 没有拓扑结构

一般由电信部门或公司负责组建、管理和维护，向全社会提供有偿服务。

##### 城域网（MAN）
MAN(Metropolitan Area Network)是在单个城市范围内组建的计算机通信网。

覆盖范围：局域网 < 城域网 < 广域网


##### 移动通信网（发展、特征和服务化架构）
###### 发展
移动通信网发展经历了五个时期：
1. 模拟通信。采用FDMA(频分多址)调制技术，频谱利用率低。
2. 数字通信。采用TDMA(时分多址)的数字调制技术，对系统容量限制较大。
3. 3G。采用CDMA(码分多址)技术，能够提供大容量、高质量、综合业务、软切换的需求。
4. 4G。包括TD-LTE(分时长期演进)和FDD-LTE()两种制式。
5. 5G。下文着重讲

> - CDMA: Code Division Multiple Access，码分多址。
> - TD-LTE: Time Division and Long Term Evolution，分时长期演进。
> - FDD-LTE: Frequency Division Duplex And Long Term Evolution, 频分双工长期演进。

###### 特征

###### 服务化架构


##### 5G移动通信网络技术
5G具有高速率、低时延和大连接特点的新一代宽带移动通信技术，是实现人机物互联的网络基础设施。

与4G相比，5G可以提供小于 1ms 端到端时延，以及99.9999%的可靠性，极大地丰富了网络应用场景。

5G的三大类应用场景：
1. 增强移动宽带（eMBB）。面向移动互联网流量爆炸式增长，为移动互联用户提供更极致的应用体验。
2. 超高可靠低时延通信（uRLLC）。面向工业控制、远程医疗、自动驾驶等对时延和可靠性要求极高的垂直行业应用需求。
3. 海量机器类通信（mMTC）。面向智慧城市、智能家居、环境监测等以传感器和数据采集为目标的应用需求。

###### 主要特征（网络切片、服务化架构）

(1) 网络切片

5网络切片可在同一物理网络基础设施上划分多个逻辑独立的虚拟网络。每个网络切片都是一个隔离的端到端，包含自己独特的延迟、吞吐量、安全性和宽带性，可以灵活应对不同的需求和服务。

> 类似于在服务器新增多个虚拟机？一个虚拟机出故障不影响其他虚拟机。

![5G网络切片](https://sustamp.github.io/assets/pictures/ruankao/5G-Network-Slicing.png)



#### 1.5.4 组网技术
##### 网络设备
###### (1)集线器（Hub）
集线器是最简单的网络设备（物理层）。在集线器中，从一个端口收到的数据被转送到其他所有端口（**广播**），无论与端口相连的系统是否准备好。

> 如果要给PC-A发信息，那么连接在集线器上的其他PC也会发送。同理，当PC-A回复时，集线器会将回复数据发送给其他PC。

集线器是很早前用于小型局域网中的，目前已经不多见了。

###### (2)中继器
中继器是局域网互联设备（OSI体系结构的物理层），它接收并识别网络信号，然后再生信号，将其发送到网络的其他分支上。（**信号放大器？**）

为了保证中继器正常工作，需要保证每一个分支中的数据包和逻辑协议链路相同。此外，中继器可以用来连接不同的物理介质并在其中传输数据包。

###### (3)网桥
网桥工作于OSI体系的数据链路层。OSI模型数据链路层以上各层的信息对网桥来说是透明的。

网桥包含了中继器的功能和特性，不仅可以连接多种介质，还能连接不同的物理分支，如以太网、令牌网，能将数据包在更大范围内进行传送。

###### (4)交换机（Swith）
这里指的是二层交换机（数据链路层），为接入交换机的任意两个网络结点提供独享的转发通路，将从一个端口接收的数据通过内部处理转发到指定端口。

> 独享：假设交换机是100M带宽，那么它的每个端口都是独占100M的。

二层交换机可以识别根据收到的数据包中的MAC地址信息，根据MAC地址进行转发，并将这些MAC地址与对应的端口记录在自己内部的一个地址表中。基本**交换原理**如下：

||原理|说明|
|---|---|---|
|1|路径学习|当交换机从某个端口收到一个数据包，它先读取包头中的**源MAC地址**，这样它就知道源MAC地址的机器是连在哪个端口上的。以此建立MAC地址表|
|2|数据转发|读取包头中的**目的MAC地址**，并在地址表中查找相应的端口。如表中能查到，就直接向对应端口转发|
|3|数据泛洪|如表中找不到相应的端口，则把数据包广播到所有端口（不包括源端口）进行转发。（泛洪）|
|4|链路地址更新|当目的机器对源机器回应时，交换机又可以通过学习目的MAC地址与哪个端口对应，在下次传送数据时就不再需要泛洪了。|

交换机具备自动寻址和交换的功能，同时避免端口冲突、提高网络吞吐（Throughput）的能力。

数据在网络中转发离不开交换机，计算机通常就是通过交换机接入网络。交换机的功能包括：
1. 集线功能。提供大量可供线缆连接的端口达到部署星状拓扑网络的目的。
2. 中继功能。转发帧时重新产生不失真的电信号。
3. 桥接功能。在内置端口上使用相同的转发和过滤逻辑。
4. 隔离冲突功能。将部署好的局域网分为多个冲突域，而每个冲突域都有自己独立的带宽，以提高交换机整体的宽带利用效率。


###### (5)路由器
路由器工作于OSI体系中的网络层，它可以在多个网络上交换和使用数据包。

路由器可通过在相互独立的网络中交换路由信息以生成路由表来达到数据包的路径选择。

在cmd中使用`route print`命令可查看路由表。路由表包含`网络地址`、`连接信息`、`路径信息`和`发送代价`等属性：(*本机ip: 10.237.144.42*)

|网络目标|网络掩码|网关|接口|跃点数|
|---|---|---|---|---|
|0.0.0.0|0.0.0.0|10.237.145.254|10.237.144.42|20|
|10.237.144.0|255.255.254.0|在链路上|10.237.144.42|276|
|10.237.144.42|255.255.255.255|在链路上|10.237.144.42|276|

路由器通常用于广域网（WAN）或广域网与局域网的互联（WAN-LAN）。

###### (6)防火墙
防火墙通常作为网络的门户，为网络的安全运行提供保障，通常工作于网络层。

> - 网络防火墙工作于网络层；传输防火墙工作于传输层；此外还有应用防火墙工作于应用层。

通过在防火墙设置若干`安全规则`（静态的）实现对进出网络的数据进行监视和过滤。

在网络中通常采用硬件防火墙。硬件防火墙是指把防火墙程序做到芯片里面，由硬件执行这些功能，能减少CPU的负担，使路由更稳定。

##### 交换机技术及相关协议

> 交换技术见 网络设备 - (4)交换机的部分内容。这里从交换机协议开始说。

在交换机组网中，为保证链路的可靠性，通常会采用一条以上的物理链路来连接设备，因此，如果在一个交换网络中两台设备连接多条链路时就会产生环路。而环路的出现会导致数据转发异常，影响交换机的正常工作。

为了避免出现环路，使用生成树协议（STP）解决。

> STP: Spanning Tree Protocol。
> - Spanning: n. 生成。 v. 跨越。

另外为了调高链路可靠性，或提升与邻接设备之间的端口带宽，可采用链路聚合协议，如802.3ad。

##### 路由技术及相关协议
路由协议可分两类：

(1) 内部网关协议（IGP）

1. RIP-1、RIP-2（路由信息协议）：基于**距离矢量算法**的路由协议，利用**跃点数**来作为计量标准。
2. IGRP(内部网关路由协议)：距离矢量算法，思科专有协议。
3. EIGRP(Enhanced-IGRP)，增强型IGRP，当拓扑结构变化时才发布路由更新。
4. IS-IS(中间系统到中间系统)：基于链路状态路由协议。
5. OSPF(开放式最短路径优先)：链路状态路由协议，提出了区域(area)的概念。

> IGP: Internal/Interior Gateway Protocol。
> - IS-IS: Intermediate System-to-Intermediate System。
> - OSRF: Open Shortest Path First。

(2) 外部网关协议（EGP）

目前使用BGP（边界网关协议）。

> EGP: External/Exterior Gateway Protocol。
> - BGP: Border Gateway Protocol。


##### 开放系统互联参考模型（OSI/RM）

> - OSI/RM: Open System Interconnection Reference Model。

网路通信是一个很复杂的事情，那么将复杂的东西分而治之（分治法），一步步解决。

OSI/RM将计算机通信的实现分成七层体系：

物、数、网、传、会、表、应。

> - **巫术网传会飙音**：网络流传施展巫术要会飙高音？
> - 7层体系按顺序来数，第一层为物理层，第七层是应用层。

![OSI参考模型的七层协议](https://sustamp.github.io/assets/pictures/ruankao/OSI-RM.png)


###### 分层参考模型

###### OSI协议集

###### TCP/IP协议集
TCP/IP协议集分为4层：
- 应用层。
- 传输层。
- 网际层（网络层）。
- 网络接口层。

![OSI参考模型的七层协议](https://sustamp.github.io/assets/pictures/ruankao/TCP-IP-ProtocolSet.png)

(7-4) 从 **OSI(7层)** 到 **TCP/IP(4层)**，其中有2层很重要：
1. 网络层：IP、ICMP、IGMP、ARP、RARP
2. 传输层：TCP、UDP

> - IP: 无连接的路由选择。
> - ICMP: 网络控制报文协议（Internet Control Messages Protocol）。比如ipconfig什么的。
> - IGMP：互联网组管理协议（Internet Group Management Protocol）。
> - ARP：地址解析协议（Address Resolution Protocol）。比如：IP地址 -> MAC地址。
> - RARP：反向地址解析协议（Reverse Address Resolution Protocol）。比如：MAC地址 -> IP地址。
> - TCP：传输控制协议（Transmission Control Protocol）。可靠的、面向连接的、3次握手协议，但速度较慢。
> - UDP：用户数据报协议（User Datagram Protocol）。不可靠的、向用户进程提供的面向无连接的传输协议，它只传送数据而不执行正确佳检查，但速度快。


###### 协议集比较


#### 1.5.5 网络工程
网络建设工程分为三个环节：
- 网络规划
- 网络设计
- 网络实施

##### 网络规划
包括网络需求分析、可行性分析以及对现有网络的分析（需对现有网络进行优化升级时）。

##### 网络设计

> 有需求就要有设计方案

在网络规划基础上设计一个能解决用户问题的方案。网络设计包括：
- 总体目标确定
- 总体设计原则确定
- 通信子网设计
- 设备选型
- 网络安全设计

##### 网络实施

> 有方案就可以采取行动实施了

根据网络设计结果进行设备采购、安装、调试和系统切换（改造升级时）等。网络实施包括：
- 工程实施计划
- 网络设备验收
- 设备安装和调试
- 系统运行和切换
- 用户培训

### 1.6 计算机语言
#### 1.6.1 计算机语言的组成

#### 1.6.2 计算机语言的类别
##### 机器语言（指令格式、操作码和寻址）
机器语言使用**二进制代码**（0和1）表示的，计算机可直接识别和执行的语言，由操作码和操作数两部分组成。

机器语言是面向机器的，可移植性查。既然是二进制形式，那么机器语言的优缺点就很好理解：
- 优点（对计算机来说）：直接理解和执行，执行速度快，占用内存少。
- 缺点（对人来说）：难以记忆，可读性查，变成困难。

##### 汇编语言（语句格式和伪指令）
机器语言难以阅读，汇编语言就加了一些**助记符**来表示各个基本操作的程序设计语言。如 ADD、MOV 等。

汇编语言虽然降低了开发人员编写、阅读、修改的难度，但必须经过**汇编程序**翻译成机器语言才能让计算机执行。

汇编语言仍然是面向机器的语言，通用性和可移植性：差。

##### 高级语言（C、C++、Java、Python等）
高级语言更接近自然语言和数学语言的语法、符号描述基本操作，但需要专门的翻译程序转换成机器语言才能执行。

##### 建模语言（UML的组成要素、关系和五种视图）

UML是一个图形化语言，支持模型化和软件系统开发，是面向对象设计的建模工具，**独立于**任何具体程序设计语言。

它不仅支持面向对象的分析与设计，还支持从需求分析开始的软件开发全过程。

> - UML: Unified Modeling Language，统一建模语言。
> - UML与具体程序设计语言无关的独立性是它成为**标准**语言的关键。

###### UML的组成要素
UML有3大组成要素：
- 构造块
- 规则
- 公共机制


构造块又包含：
- 事务
- 关系
- 图


规则包括：
- 范围
- 可见性
- 完整性
- 执行

公共机制包括:
- 规格说明：事务语言的细节描述，它是模型的真正**核心**。
- 修饰
- 公共分类
- 拓展机制

###### UML的关系（Δ）

|关系|说明|
|----|----|
|依赖关系(use-a)|表示一个事务（独立事务）发生变化会影响另一个事务（依赖事务）|
|实现关系|一种是接口与它的实现类或构件之间；另一种是用例和实现他们的协作之间|
|关联关系(has-a)|关联是一种结构关系，描述了一组对象之间的连接。关联关系又包含两种特殊关系：聚合关系和组合关系|
||组合关系：整体与部分之间是强关联，同生共死。|
||聚合关系：整体与部分之间是若关联，"部分"可以脱离整体而独立存在。|
|泛化关系(is-a-kand-of)|表示一般（父）与特殊（子）的关系。泛化也就是继承关系。子类继承父类，父类是子类的泛化。|

![UML的关系示意图](https://sustamp.github.io/assets/pictures/UML-Relations.png)

###### UML图概览

|种类|说明|
|---|---|
|用例图|展现一组用例（UseCase）、参与者（Actor）以及它们之间的关系，用于描述**系统功能**的视图。用例之间的关系有：包含、拓展、泛化|
|类图|展现了一组对象、接口、协作和它们之间的关系。类之间的关系有：关联、依赖、实现、泛化|
|对象图|描述一组对象及它们之间的关系。对象图描述了在类图中所建立的事务实例的**静态快照**|
|包图|描述由模型本身**分解**而成的组织单元，以及它们之间的依赖关系|
|组合结构图|用于画出**结构化类**的内部内容|
|状态图|状态图描述一个对象所有可能的状态，以及触发**状态变化**的事件|
|顺序图（时序图）|描述多个对象之间消息传递的时间顺序。强调消息的**时间次序**。|
|通信图（协作图）|强调收发消息的对象或参与者的结构组织。强调的是对象之间的**组织结构（关系）**|
|定时图|强调对象跨越不同对象或参与者的**实际时间**，而不仅仅只是关心消息的相对顺序|
|活动图|描述对象活动的顺序所遵循的行为规则，展示为一步步的**控制流**和**数据流**。可并行。（注意与流程图有区别）|
|交互概览图|是活动图与顺序图的**混合物**|
|构件图|描述一个封装的类和它的接口、端口，以及由内嵌的构件和连接件构成的**内部结构**|
|部署图（配置图）|软件和硬件组件之间的**物理关系**以及处理节点的组件分布情况|
|制品图|描述一个系统的**物理结构**，通常与部署图一起使用|


###### 用例图

![用例图](https://sustamp.github.io/assets/pictures/ruankao/UML-UseCaseDiagram.png)

(1) 定义

用例图（Use Case Diagram）是UML中的一种 **行为图（Behavioral Diagram）**。

主要用于描述**系统的功能**（用例），展示参与者（Actor）与系统之间的交互关系。它从用户角度出发，说明系统“做什么”，而不是“怎么做”。

> 总结： 用例图 = 系统功能 + 用户角色 + 交互关系

(2) 用途
- 描述系统功能：明确系统提供哪些服务（用例）。
- 识别用户角色：确定与系统交互的外部实体（参与者）。
- 需求分析工具：用于客户或团队成员沟通系统范围。
- 指导后续设计：为类图、活动图提供输入。

(3) 用例关系

① 包含关系

当两个（含）以上用例中可以提取**相同动作**，这时可以将这组相同的动作抽出来作为一个独立的子用例，供多个基用例共享。

例如：`课程学习`与`课程考试`都要检查学员的权限。`检查权限`是相同动作，与`课程学习`之间是包含关系。

因为子用例被抽出，所以`<<include>>`关系中，基用例必须和子用例一起使用，箭头从基用例指向子用例。

② 拓展关系

如果一个用例明显地混合了两个（含）以上的**不同场景**，即根据情况可能发生多种分支，则可以将这个用例分为一个基用例和一个或多个拓展用例，这样可以使描述更加清晰。

例如：国际留学生在进行`入学登记`时，需要额外场景：`执行安全检查`。`执行安全检查`是`入学登记`的拓展关系。

拓展关系是对基用例的拓展，`<<extend>>`箭头从拓展用例指向基用例。

③ 泛化关系(Generalization)

泛化关系表示一般（父）与特殊（子）的关系。A是B和C的父类，B, C具有公共类A（父类），说明A是B, C的一般化（概括，也称泛化）。

泛化关系也就是继承关系，也称为“is-a-kind-of”关系，用于描述父类与子类之间的关系。

例如：`用户注册`可以采用`邮箱注册`或`手机注册`。`用户注册`与`手机注册`属于泛化关系。

###### 状态图

![状态图](https://sustamp.github.io/assets/pictures/ruankao/UML-StateChartDiagram.png)

(1) 定义

状态图（Satete Chart Diagram）是UML中的一种 行为图。

主要描述一个对象所有可能的状态，以及触发状态变化的事件。

(2) 用途

描述对象生命周期，比如"订单状态"：待支付 -> 已发货 -> 已完成。

(3) 状态图与活动图的区别（Δ）

1. 在定义上：状态图描述的是一个对象所有可能的状态，以及因为事件行为的发生而引起的状态变化；而活动图描述的是对象的动态行为，展示活动流程。
2. 状态图关注行为的结果；活动图关注行为的过程。

###### 活动图

![活动图](https://sustamp.github.io/assets/pictures/ruankao/UML-ActivityDiagram.png)

(1) 定义

活动图（Activity Diagram）是UML中的一种 行为图。

主要描述的是系统或对象的动态行为，展现对象的活动（动作）的流程，展示为一步步的**控制流**和**数据流**，包括顺序、**并发**、分支和同步等逻辑。

(2) 用途

活动图适用于系统设计和业务流程建模：
- 需要描述复杂的业务流程，如：电商订单处理、银行转账、用户注册与登录。
- 涉及多角色的系统协作，如：用户、后台、支付网关。
- 需要表示并行或异步行为，如：多线程任务。

(3) 活动图与流程图的区别（Δ）

1. 活动图描述的是对象活动的行为顺序所遵循的规则，它着重表现系统的**行为**；而流程图着重描述**处理过程**。
2. 活动图支持并发进程，而流程图一般限于顺序进程。
3. 活动图是面向对象的，流程图是面向过程的。

> - 注：流程图不是UML图。
> - **活动图** = 高级流程图 + 并发支持 + 对象交互。


###### 顺序图（时序图）

![时序图](https://sustamp.github.io/assets/pictures/ruankao/UML-SequenceDiagram.png)

(1) 定义

时序图（Sequence Diagram）是UML中的一种 **交互图（Interaction Diagram）**。

描述的是多个对象之间发生消息交互时的时间顺序，强调**消息传递的时间顺序**和**对象生命周期的时序关系**。

(2) 用途

适用于分析用例的详细流程，比如用户登录过程中各对象或服务之间的调用顺序。

(3) 顺序图与协作图的区别

- 顺序图：回答**何时发生什么**，适合时序敏感的交互（如API调用流程）。
- 协作图：回答**谁和谁交互**，适合结构复杂的系统设计（如模块依赖）。


###### 协作图（通信图）

![协作图](https://sustamp.github.io/assets/pictures/ruankao/UML-CommunicationDiagram.png)

(1) 定义

协作图（Collaboration Diagram，UML 1.x）/ 通信图（Communication Diagram，UML 2.0）是UML中的一种 交互图。

强调**对象之间的结构关系**（关联关系）和**消息传递的拓扑结构**（交互过程），展示对象间如何通过链接协作。

(2) 用途

适合描述系统的静态结构和动态协作，比如模块间的调用关系。


###### 构件图

![构件图](https://sustamp.github.io/assets/pictures/ruankao/UML-ComponentDiagram.png)

(1) 定义

构件图（Component Diagram）是UML中的一种 **结构图（Structural Diagram）**。

主要用于描述**系统的物理结构**，展示软件构件之间或软件模块之间的组织关系和依赖关系。它帮助开发者理解系统的模块化设计，适用于**大型软件结构**和**分布式系统**的设计阶段。

构件图的思想是复用，通常由`源代码文件`、`二进制代码`、`可执行文件`或`动态链接库（DLL）`等构件组成，通过依赖关系相互连接。

> 总结： 构件图 = 模块化设计 + 依赖接口 + 物理结构

(2) 用途

- 描述系统模块化结构：展示系统的可部署单元（如库、服务、微服务）。
- 接口与依赖关系：明确构件之间如何通过接口交互。
- 指导开发与部署：帮助团队划分代码结构，规划部署方案。

###### 部署图

![部署图](https://sustamp.github.io/assets/pictures/ruankao/UML-DeploymentDiagram.png)

(1) 定义

部署图（Deployment Diagram）是UML中的一种 结构图。

主要描述**系统的物理部署架构**，展示软件组件如何部署到硬件节点（如服务器、设备）上，并描述它们的通信方式。

> 总结：部署图 = 硬件节点 + 软件部署 + 网络连接。

(2) 用途

- 描述系统硬件拓扑：展示服务器、设备、网络等物理结构。
- 规划部署方案：明确软件组件（如微服务、数据库）运行在哪些节点上。
- 分析性能与容灾：识别单点故障或网络瓶颈。
- 指导运维团队：为安装、配置和监控提供蓝图。

###### 五种视图（Δ）
对于同一个系统，不同人员所关心的内容不一样，UML通过**五种视图**从不同角度描述系统，每种视图对应不同的设计层次和受众，分别是：
- 用例视图：是起点（中心地位），定义**做什么**。
- 逻辑视图、进程视图：解决**怎么做**。
- 实现视图、部署视图：负责**如何落地**（代码与硬件）。

> 记忆：**用实际进步！**
> - 用：用例视图
> - 实：实现视图
> - 际：逻辑视图
> - 进：进程视图
> - 步：部署视图


|视图|核心目标|主要图表|关注成员(适用阶段)|
|----|----|----|----|
|用例视图|描述系统功能需求|用例图|客户、产品、开发和测试者（需求分析）|
|逻辑视图|描述系统内部功能，系统的静态结构和对象交互|1.类图和对象图。2.状态图、时序图和协作图、活动图。|系统分析和设计人员（设计阶段）|
|进程视图|描述系统的**运行时行为**，重点关注并发、线程、进程间的通信与同步|活动图、状态图、协作图、时序图|开发和系统集成人员（架构设计阶段）|
|实现视图|描述系统的构件组织和实现模块|**构件图**|设计人员、开发和测试（开发阶段）|
|部署视图|规划硬件和软件部署|部署图|开发、测试、运维人员（部署阶段）|


(1) 如何理解进程视图？

进程视图是描述系统的**运行时行为**，重点关注并发、线程、进程间的通信与同步。

核心问题是：
- 系统如何分配任务到多个进程/线程？
- 进程之间如何通信（如消息队列、共享内存）？
- 如何避免死锁或资源竞争？

主要图表的作用：
- 活动图：展示并发流程（如分叉/汇合）。
- 状态图：描述对象在多个线程中的状态变化。
- 时序图：分析跨进程的消息时序。
- 协作图：分析跨进程模块间的通信方式。

何时需要进程视图？
- 系统设计**多线程**/**多进程**（如Web服务器、游戏引擎、分布式系统）。
- 需要分析性能瓶颈或竞态条件。


##### 形式化语言（规格说明、分类、开发过程和Z语言）
形式化方法是把概念、判断、推理转化成特定的形式符号，对系统进行描述和研究的方法。

它是设计和编程的出发点，也是验证程序是否正确的依据。（凭啥是出发点？如何验证？）

> 这部分内容看视频讲的不清不楚的，到时候翻翻书看看

###### 规格说明
TODO....

###### 分类
TODO....
1. 面向对象的形式化语言，通过定义状态和操作进行建模。如：Z语言、VDM、B、Object-Z.
2. 面向属性的形式化方法，如：OBJ3、Larch等。
3. 基于并发性的形式化方法，如CCS、ACP、CSP、LOTOS等。（都是些啥啊?）
4. 基于实时性的形式化方法，如TRIO、RTOZ等。

###### Z语言
Z语言是一种形式化语言，具有**状态 - 操作**风格的形式化规格说明语言。

- Z语言最主要的结构是**模式**（Schema）。一个模式由`变量说明`和`谓词约束`两部分组成，用来描述系统状态和操作。
- Z语言建立于集合论和数学逻辑的基础上，具备将数学进行结构化的方式。
- Z语言是一个强类型系统（?）。可以使用自然语言（?）。


### 1.7 多媒体
#### 1.7.1 多媒体概述
##### 多媒体定义
媒体是信息的载体，即信息的表现形式。

媒体分类有:

|媒体|说明|
|---|---|
|感觉媒体|以感觉接触信息。如：视觉、听觉、嗅觉|
|表示媒体|信息的表示形式。如：图像、声音、视频|
|存储媒体|用于存储`表示媒体`的媒体，如硬盘、ROM、RAM等|
|传输媒体|传输`表示媒体`的媒体，如电缆、光缆、电磁波等|
|表现媒体|指信息的输入/输出设备，如：键盘、鼠标、扫描仪、话筒/显示器、打印机、音箱|

>  谁搞的分类啊，又是表示又是表现的，饶不饶口，混不混淆？



##### 多媒体特征
##### 基本组成及应用

#### 1.7.2 多媒体的主要关键技术
##### 视音频技术
###### 视音频编码
视音频编码的目的是对视音频数据进行传输和存储。

常见的视音频文件格式：
- 视频： `.rm`、`.mpg`、`.avi`、`.mov`、`.mp4`
- 音频： `.ogg`、`.tta`

###### 视音频压缩方法
1. 无损压缩：解压缩后的数据和压缩前完全一致。
   - 多数采用RLE算法（Run-Length Encoding，行程编码）。
   - 常见格式：`wav`
2. 有损压缩：解压缩后的数据与压缩前数据不一致，压缩过程会丢失一些人眼/耳不敏感的信息。
   - 压缩丢失的信息不可恢复。
   - 常见格式：`mp3`、`wma`、`ogg`

##### 通信技术
##### 数据压缩技术
1. 即时压缩和非即时压缩
   - 即时压缩：信息在**传输过程中压缩**。应用在影像、声音等数据的传输。
   - 非即时压缩：信息压缩后再传输。需要用到专门的硬件设备，如压缩卡。
2. 数据压缩和文件压缩
   - 数据压缩：专指一些具有**时间性**的数据，这些数据常常是即时采集、处理、传输的。
   - 文件压缩：对将要保存在磁盘等物理介质的数据进行压缩。
3. 无损压缩和有损压缩。
##### VR/AR技术
- 虚拟现实：Virtual Reality
- 现实增强：Augmented Reality
  - 将仿真世界与现实世界叠加到一起，从而增强现实世界的体验。


### 1.8 系统工程
#### 1.8.1 系统工程概念
系统工程是利用计算机作为工具，对系统的**结构**、**元素**、**信息**和**反馈**等进行分析，运用各种组织管理技术，以达到**最优规划**、最优**设计**、最优**管理**和最优**控制**的目的。

> 记忆：S.E.I.F-规设管控。
> - S: Stucture
> - E: Element
> - I: Information
> - F: Feedback

系统工程是一种从**整体**出发、从**系统观念**出发的科学决策方法，所以它的特点就有：
- 整体性
- 综合性
- 协调性
- 科学性


#### 1.8.2 系统工程方法
##### 霍尔三维结构（Δ）
霍尔三维结构通过**时间维**、**逻辑维**和**知识维**三个维度，系统地分析和解决复杂工程或管理问题，尤其适用于大型项目的规划、设计和实施。

###### 时间维
时间维关注的是**事务发生的顺序**，即系统中各事件、任务和活动随着时间的变化和演进。

这个维度强调系统工程从开始到结束的以时间为顺序的生命周期。通常会使用时序图、甘特图或PERT图来规划和监控项目进度。

||环节|说明|
|---|---|---|
|1|规划阶段|调研，谋求活动的规划与战略|
|2|拟定方案|提出具体的计划方案|
|3|研制阶段|完成研制方法和生产计划|
|4|生产阶段|生产零部件及提出安装计划|
|5|安装阶段|安装完毕，完成系统的运行计划|
|6|运行阶段|系统服务按照预期的用途运行|
|7|更新阶段|改进或消亡原有系统|

> 记忆：把时间维的环节想象成BYD要研发一台新的汽车。
> - 规划：调研这台汽车的受众，外形，性能，安全，价格问题。
> - 拟定：拟定结构，零件，设备，内饰和颜色等，重磅车型先出概念车。
> - 研制：自研池里的东西有很多，这从看能捞哪一条？
> - 生产：零部件生产和组装。
> - 安装：把新型汽车安装成型
> - 运行：跑起来！
> - 更新：背刺要来了！

###### 逻辑维
逻辑维描述的是时间维的每个阶段内应遵循的思维流程或步骤。

这里需要解决的关键问题是：**系统的结构与功能**。

在这个维度中，我们会定义和分析系统的要素、子系统、过程、功能以及它们如何相互协作。

||环节|说明|
|---|---|---|
|1|明确问题|明确需求与约束|
|2|确定目标|量化指标|
|3|系统综合|生成备选方案|
|4|系统分析|评估方案可行性|
|5|系统优化|系统方案的优化选择|
|6|系统决策|选择最优解|
|7|实施计划|执行并反馈|

> 示例：开发一款新能源汽车
> - 时间维：规划 -> 设计 -> 研制 -> 测试 -> 量产 -> 优化
> - 逻辑维：定义续航目标 -> 量化续航与电池容量 -> 设计电池方案 -> 模拟性能 -> 选择供应商 -> 量产优化
> - 知识维：电池技术、材料科学、市场分析、政策法规等。

###### 知识维
知识维指解决问题所需的**跨学科知识或技术**，强调多领域协作。

可能涉及的领域：
- 工程技术（如机械、电子）
- 管理科学（如项目管理、成本个控制）
- 社会科学（如心理学、经济学）
- 医药、建筑、法律、商业等


##### 切克兰德方法

> 切克兰德：霍尔方法论是"硬科学"方法论，我的是"软科学"。(?:你在说什么)

其核心不是最优化，而是**比较与探寻**。（比昨天好，比上次好，一点点进步）

||环节|说明|
|---|---|---|
|1|认识问题|与公园管理员、游客、维护人员进行交流，收集发现的问题|
|2|根底定义|对每个关键问题制定根底定义。比如定义"公园维护系统"：一个旨在提供清洁、安全和愉悦环境的服务系统|
|3|建立概念模型|依据"公园维护系统"的根底定义，构建一个包括垃圾回收、设施检查、游客反馈处理等活动的概念模型|
|4|比较及探寻|把概念模型与实际公园运营情况比较，识别出概念模型运行得好的地方，哪些存在差异，并探讨为什么会有这种差异|
|5|选择|决定一系列改变，例如增加保洁、更新设施、创建咨询中心|
|6|设计与实施|指定具体行动来实施这些改变。比如招聘保洁、购置设备或开发线上反馈平台|
|7|评估与反馈|在实施后，持续对改变效果进行监测与评估，收集游客、员工的意见，并根据意见调整行动计划|

> 记忆：巧克力方法-Chocolate?
> 1. 问题：怎么做一盒巧克力。
> 2. 定义：做什么口味的巧克力，需要什么原料。
> 3. 概念：根据口味和原料，尝试做出巧克力样品。
> 4. 比较：试吃巧克力，实际的未到与想象的口味有啥差别，可以做啥改进。
> 5. 选择：做出一些改进方案
> 6. 设计与实施：设计方案，再做一个更好的巧克力。
> 7. 评估与反馈：再尝一尝，看看效果。

##### 并行工程方法(CE)
并行工程方法(Concurrent Engineering)，打破传统的串行开发模式（每个阶段依次进行），让多个开发过程（包括**制造过程**和**支持过程**）并行起来加速产品从概念到市场的整个过程。

(1) 产品设计开发期间，以最快速度按要求的质量完成

在设计与开发期间，相关的工作流程如设计、分析、测试和评估等应该尽可能同时进行，而不是一个完成后另一个才开始

> 比如：汽车开发有内饰设计，安全性分析，动力系统设计等任务，进行CE开发，同时工作，互换信息。

(2) 各项工作由相关的项目小组完成，对出现的问题协调解决

并行工程要求团队之间有**高效的沟通与协调**机制，从而实时解决跨功能的问题。

> 采用CE方法的公司可能会组件跨部门的项目团队，当某个部门提出新的设计时，相关部门立刻评估可行性和反馈

(3) 利用适当的信息系统工具


##### 综合集成方法

> 钱学森对复杂系统（尤其是巨系统）研究中提出的一种系统工程方法。

它涉及到如何将不同的系统元素、子系统和过程整合到一个统一的框架中，以解决大规模、多方面和高度复杂的问题。

(1) 整体论原则

强调从整体上理解系统，认识完整系统的行为和特性不仅仅是各部分简单相加的结果。

比如城市交通系统中，整体论意味着我们需要考虑整个城市交通如何高效协同工作。比如，街道规划、公共交通布局，交通信号系统等需要被综合考虑，不能仅仅关注单一的交通工具或某条道路的流量问题。

(2) 相互联系原则

> 有整体就有部分，部分之间肯定是相互联系协调工作的

(3) 有序性原则

(4) 动态原则

系统是动态变化的，它们随时间严谨并且响应外部和内部的变化。动态原则要求我们不断监测和评估这些变化，并适时做出调整和管理策略。

城市交通系统也是不断变化的，比如道路需要维修，广交会会增加某些特定区域的交通流量，节假日导致特殊交通模式等。

##### WSR系统方法（物、事、人）

> WSR系统方法我国著名系统工程专家吴敬琏提出的，被认为是解决复杂社会、经济问题的一种实践导向的系统分析方法。

|WSR|维度|说明|
|---|---|---|
|W(懂物理)|技术层面（物理）|在任何系统问题中，首先要对所涉及的技术或物理条件有深入的理解。（**没有调查就没有发言权**）|
|S(明事理)|管理层面（事理）|清楚把握系统运行的规则、程序、法律法规以及管理策略等影响系统效能的重要因素。|
|R(通人理)|人文层面（人理）|也是最重要的一点，有效的系统方法需要考虑到其影响的利益相关者和用户群体，必须认识到系统操作和发展受到人的行为、需求、文化和价值观的影响。（**入乡随俗？**）|


#### 1.8.3 系统工程的全生命周期
##### 周期阶段

||阶段|说明|
|---|---|---|
|1|探索阶段|识别利益相关者的需求，探索创意和技术|
|2|概念阶段|细化利益者的需求，探索可行概念，提出解决方案|
|3|开发阶段|细化系统希求，创建解决方案的描述，构建系统，验证并确认系统。|
|||包括详细计划、开发，验证与确认活动(v&v)。可自主选择开发模型，并不局限瀑布或其他方法|
|4|生产阶段|生产系统并进行检验和验证|
|5|使用阶段|运行系统以满足用户需求|
|6|保障阶段|维持系统持续运行的能力|
|7|退役阶段|技术发展，退出历史舞台|

> 又是7个步骤。

##### 采用方法
###### 计划驱动方法（Plan-Driven Approach）
顾名思义，以预先制定详细计划为驱动进行项目管理或开发的系统化方法，强调在项目开始前进行需求、设计、构建、测试、部署安排。

这种方法适用于**需求明确**、**变更较少**的项目，常见于传统工程、制造业和部分软件开发（如瀑布模型）。

与敏捷方法的区别：

|维度|计划驱动方法|敏捷方法|
|---|---|---|
|需求处理|前期固定|逐步细化，允许变更|
|交付节奏|阶段式（大版本）|迭代式（小周期）|
|文档作用|核心依据|辅助沟通|
|使用场景|需求明确、变更少|需求模糊、创新型强|

常见的计划驱动方法有：
1. 瀑布模型（Waterfall）：严格的线性阶段划分。
2. V模型（V-Model）：强调测试与开发的对应关系。（*?:开发 vs. 测试*）


###### 渐进迭代开发（Incremental and Iterative Development）
渐进式迭代开发（IID）是一种**增量交付**和**迭代开发**的软件开发方法。允许为项目提供初始能力，随之提供连续交付以达到期望的系统。

> 分块开发，逐步集成。（先搭骨架，再填血肉）

这种方法适合绝大多数**需求动态变化**或**复杂度高**的项目，但对团队协作和规划能力要求较高。典型的应用场景：
- 需求不明确或可能变化的项目（如创新产品、互联网应用）
- 用户参与度高的场景（需要早起验证核心功能）
- 大型复杂系统（降低一次性开发风险）
- 

核心概念：
1. **增量**。
   - 将系统划分为多个功能模块，按优先级分批次开发并交付。
   - 每个增量都是一个可独立运行的子系统，用户能逐步使用部分功能。
   - 例如开发电商平台时，先上`商品浏览`（增量1），再开发`购物车`（增量2），最后实现`支付结算`功能（增量3）。
2. **迭代**。
   - 每个增量内部通过多次循环优化，逐步完善细节。
   - 每次迭代都包含完整的**设计-开发-测试-反馈**闭环。
   - 示例：在开发`商品浏览`功能时，第1次迭代：实现基础列表，第2次迭代：增加搜索过滤，第3次迭代：优化性能。

渐进式开发的优缺点

渐进式开发出了在" 典型应用场景 "中体现的优点外，还有如下优点：
1. 分阶段开发与验证，风险可控
2. 早起交付部分价值：用户可提前使用部分功能，提供反馈。
3. 灵活性高（相比纯瀑布模型）：允许在每个迭代中调整设计

然后对比优点反找下缺点：
1. 交付周期可能较长：分阶段渐进式开发，完整的交付周期比一次性开发更长。（尽管单个模块很快）
2. 集成挑战：各增量模块最终是要集成整合的，可能有早期设计不足导致接口冲突或重构。
3. 需求变更成本高：若在后期调整早起模块的功能，可能涉及大量返工。
4. 对规划能力要求高：要合理划分增量模块和迭代周期。


常见的方法论：
1. 敏捷开发（Agile）：Scrum、Kanban均基于渐进迭代思想。
2. 螺旋模型（Spiral Model）：每轮螺旋包含迭代和风险分析。
3. MVP策略：最小可行产品（Minimum Viable Product）是渐进式的典型实践。

> viable 这个单词怎么记？
> - vi-able，看 vi. 是不及物动词，加个-able，表示或许能及物，由此引申出：可行的，可望成功的。

###### 精益开发（Lean Development）
精益开发是一种以**最大化用户价值**、**最小化浪费**为核心的软件开发方法。

其核心目标是：**用更少的资源做更多的事**。通过消除非增值活动（浪费）、持续改进和快速交付，打造高效、高质量的软件产品。

> - 消灭浪费，加速流动。
> - 用户要的是价值，不是代码。

精益开发 vs. 敏捷开发

- 敏捷开发关注**如何快速交付**，精益开发关注**如何高效交付**。
- 精益开发多适用于需降本增效的系统，敏捷开发多用于需求多变的项目。
- 二者常结合使用。如：用敏捷管理迭代，用精益优化流程（如减少测试环节的等待时间）。

精益开发的7大原则：
1. 消除浪费(Eliminate Waste)
   - 识别并减少一切不创造用户价值的活动，如：
     - 不必要的代码或功能(Overproduction)
     - 等待（如审批延迟、依赖阻塞）
     - 过渡文档或会议(Non-value-added process)
2. 强化学习(Amplify Learning)
   - 通过" 短周期迭代、持续反馈和实验 "快速验证假设，避免闭门造车。
3. 尽量延迟决策(Decide as late as possible)
   - 在掌握足够信息后再做关键决策(如架构选型)，保持灵活性。
4. 尽快交付(Deliver as fast as possible)
   - 小批量交付可工作的软件，缩短反馈循环。（与敏捷的Sprint类似）
5. 赋能团队(Empower the team)
   - 信任团队的自组织能力，减少微观管理。
6. 内建质量(Build Quality In)
   - 通过自动化测试、持续集成(CI/CD)和代码评审，确保质量从开发初期即被保证。
7. 全局优化(Optimize the Whole)
   - 避免局部优化(如单一模块优化)，关注端到端价值流(用户从提出需求到功能上线的全流程)

精益开发的优点在7大原则上基本都能体现，那么缺点自然也能从中影射（谜语人思路）：
1. 初期投入大：需要重构低效流程。
2. 复杂度高：全局优化难度大
3. 价值认同有挑战：无论是 识别overproduction、缩短等待流程以及过度的文档和会议 都需要全员认同并改进理念。


###### 敏捷开发（Agile Development）
敏捷开发是以**用户需求变化**和**快速交付**为核心的软件开发方法论，强调通过**小周期迭代**（Sprint）、持续反馈和跨职能协作，灵活应对不确定性。

> - Agile： 敏捷的，发音类似：挨揍。因其快速响应的开发方式，容易出bug，容易挨揍！
> - Sprint：冲刺；短跑。

敏捷开发的核心特点：
1. 迭代与增量交付。
   - 将项目划分为多个短周期（如2~4周的Sprint），每个周期交付一个可工作的功能增量。
2. 用户需求动态响应。（优点&缺点，因为也会导致需求优先级冲突）
   - 通过持续的用户反馈调整优先级，而非固守初始计划。
3. 轻文档、重工作。（优点&缺点，因为后期维护和交接困难）
   - 强调面对面沟通（如每日站会），减少冗长文档。（是优点也是缺点）
4. 自组织团队。
   - 开发团队自主决策，减少层级审批。

> 思考：看到这里就有点好奇了，渐进式迭代开发和敏捷开发是不是有点像？

那么 敏捷开发 与 渐进式迭代开发 有什么关系？

(1) 共同点
- 分阶段交付：均通过迭代或增量逐步完善产品。
- 适应变化：允许需求在开发过程中调整。
- 用户反馈驱动：早起交付以验证方向。

(2) 区别

|维度|敏捷开发|渐进式开发|
|---|---|---|
|核心目标|快速响应，最大化用户价值|分阶段降低风险，确保系统完整性|
|流程规范|高度灵活，周期可变|结构清晰（增量/迭代划分明确）|
|文档作用|辅助沟通，非强制|可能保留更多设计文档|
|适用场景|需求模糊、创新性强|需求较明确但复杂（如大型系统）|

敏捷开发是渐进式迭代的实践升华：
- 敏捷开发 = 渐进式迭代开发 + 灵活文化 + 轻流程。
- 渐进式迭代是方法论框架（如何拆分和优化），而敏捷是具体实践（如何协作和交付）。敏捷开发是渐进式迭代的一种高级实践形式，更注重灵活性和团队协作。

> - 渐进式开发：分块开发，逐步集成。
> - 敏捷开发：小步快跑，拥抱变化。

实际案例对比：

开发一个ERP系统：(*渐进式迭代开发*）
- 增量1：财务模块（迭代1：基础记账 -> 迭代2：报表生成）
- 增量2：库存模块（迭代1：入库出库 -> 迭代2：预警功能）

开发一款社交App：(*敏捷开发*）
- Sprint1: 发布最小可行产品（MVP），仅支持发帖和点赞。
- Sprint2: 增加评论功能
- Sprint3：增加私信功能，优化界面。


#### 1.8.4 基于模型的系统工程（MBSE）
Model-Based System Engineering.

##### MBSE的基本概念
MBSE是建模方法的形式化应用，使建模方法支持系统需求、分析、设计、验证和确认等活动，这些活动从概念性设计阶段开始，持续贯穿到设计开发以及后来的所有生命周期阶段。

> 建模(Model)就像构图，用一些图(如UML图)来描述和应用系统工程。

系统工程过程的三个阶段分别产生三种图形：

|阶段|图形|
|---|---|
|需求分析阶段|需求图、用例图、包图|
|功能分析与分配阶段|时序图、活动图、状态机图|
|设计综合阶段|模块定义图、内部块图、参数图等|

##### MBSE的三大支柱技术
###### 建模语言
见[1.6 计算机语言 - 建模语言]
###### 建模工具
教材？
###### 建模思路
教材？

### 1.9 系统性能
#### 1.9.1 性能指标
##### 计算机的性能指标
主要的指标：
1. **时钟频率（主频）**：CPU性能核心指标之一，单位：**赫兹（Hz）**
   - 指CPU每秒完成的时钟周期数。如3.2GHz的CPU每秒可执行32亿个时钟周期。（1 Ghz = 10 ^ 9 Hz，10的9次方是10亿）
   - 时钟周期：CPU处理指令的最小时间单位，每个操作（如取指令、计算、存储）可能需要多个时钟周期完成。
2. **运算速度**：CPU执行特定运算（如浮点、整数计算）的速度。浮点运算/秒 或 指令/秒。
3. **运算精度**：计算结果的精确程度，由数据类型和硬件设计决定。
   - 高精度计算可能显著降低吞吐率
4. **数据处理速率**：系统对数据流（如视频编码、信号处理）的处理效率，综合反映CPU、内存、I/O协同能力。
5. **吞吐率**：单位时间内系统完成的任务量或处理的数据量（如请求/秒、GB/s）。

> 赫兹：我装备 *+攻速 +精力*，效率（*数据处理速率*）通关（*吞吐*）。组我的密！

此外还有：
1. 内存的存储容量
2. 存储器的存取周期
3. 各种响应时间
4. 各种利用率
5. 平均故障响应时间
6. 兼容性
7. 可扩充性和性能价格比
8. RASIS特性（可靠性、可用性、可维护性、完整性和安全性）


##### 路由器的性能指标
?
##### 交换机的性能指标
?


##### 网络的性能指标


##### 操作系统的性能指标
1. 系统响应时间
2. 系统的吞吐率
3. 系统资源利用率
4. 系统上下文切换
5. 可靠性和可移植性

##### 数据库管理系统的性能指标
1. 数据库的大小、表数量、表大小、行数量、行大小等
2. **索引数量**：要想查询快，怎么能没有好的索引？
3. **最大连接数**：（*韩信：来来来，多多益善，我吃得下。*）
4. **最大并发事务处理能力**：（*同时指挥多处作战，我韩信兵仙无疑！*）

##### Web服务器的性能指标
Web服务器通常属于应用系统，主要性能指标有：
1. 最大并发连接数（*并发用户数*）
2. 响应延迟
3. 吞吐量

#### 1.9.2 性能计算
##### 定义法
根据其定义直接获取理想数据。

##### 公式法
适用于根据定义所衍生的复合性能指标的计算。

##### 程序检测法
通过程序来测试出性能数据

##### 仪器检测法
通过仪器测试得到性能数值。

#### 1.9.3 性能设计
##### 系统调整
当系统性能低于基本水平，就需要作出调整，查找和消除性能瓶颈。

1. 对于数据库系统，性能调整包括CPU/内存使用状况、优化数据库设计、数据库管理、进程/线程状态、硬盘剩余空间、日志文件大小等。
2. 对于应用系统，性能调整主要包括应用系统的可用性，响应时间，并发用户数以及特定功能的系统资源占用等。
3. 在开始性能调整之前，必须做的准备工作有：识别约束、指定负载、设置性能目标。
4. 在建立好目标后，可能需要一系列重复的、受控的性能试验，过程包括：收集、分析、配置、测试。

##### Amdahl解决方案（阿姆达尔定律）
阿姆达尔定律量化定义了通过改进系统中**某个组件**的性能，使系统整体性能提高的程度。

> 这部分内容据说很复杂，但解题可能不必硬套定律公式。

##### 响应特征
?
##### 负载均衡
?

#### 1.9.4 性能评估
如果想买台电脑，要怎么评估它的性能呢？这里先讨论下早期的 经典评估方法（*主要针对CPU性能，有时包括主存*）：
1. 一开始最简单的就是看下它的**时钟频率（主频）**，主频越高，工作速度越快。
2. 之后发现，计算机更多是用来作计算的，于是就用**指令执行速度法**。
   - 用加法指令的运算速度 来衡量计算机的速度。
3. 但考虑到指令比例不同，高级运算混合了许多不同的指令，于是使用**等效指令速度法**（混合比例计算法）。
   - 通过各类指令在程序所占的比例进行计算后 得到计算机的运算速度。
4. 考虑到CPU在进行运算时还会从主存取数，所以又有**数据处理速率法**（PDR）。
   - PDR主要对CPU和主存的速度进行度量，PDR值越大，机器性能（CPU和主存的速度）越好。 PDR不能全面反映计算机的性能（没有考虑Cache、多功能部件等影响）。
5. **综合理论性能法**：计算处理部件中**每个计算单元**的有效计算率，然后按不同字长调整，得到该计算单元的理论性能。将所有计算单元汇总即最后总的计算机性能。

> PDR： Processing Data Rate

经典评估方法 **没有考虑** 诸如I/O结构、操作系统、编译程序的效率等对系统性能的影响，因此难以准确评估计算机的实际性能。

为了测试新系统的性能，用户更多依靠评价程序来评价机器的性能。

##### 基准测试程序
基准测试程序（benchmark） 把应用程序中**用得最多**、**最频繁**的核心程序作为评价计算机系统性能的标准程序。

（历史考题）下面4种评测程序，评测精确度依次递减： 真实的程序 >  核心程序 > 小型基准程序 > 合成基准程序。

> 记忆：实心小盒（*合*）

##### Web服务器的性能评估
上面提到过，Web服务器的性能指标有：
- 最大并发连接数（或*最大并发用户数*）
- 响应延迟（*接口响应时间*）
- 吞吐量

那么常见的评估web服务器性能的方法有：
1. 基准性能测试
2. 压力测试
3. 可靠性测试

> 性能、压力、可靠。

##### 系统监视
运用命令、日志文件、技术工具来监控系统的运行情况。

- 通过系统本身的命令，如：
  - UNIX/Linux的`W`、`ps`、`last`
  - Windows的`netstat`
- 通过系统记录文件，查阅系统在特定时间的运行状态。
- 集成命令、文件记录和可视化技术工具，如：
  - Windows的Perfom应用程序


## 2.信息系统基础知识
### 2.1 信息系统概述
#### 2.1.1 信息系统的定义
##### 信息系统的基本目标和定义
##### 五个基本功能（输入、存储、处理、输出和控制）

#### 2.1.2 信息系统的发展
##### 六个发展阶段（初始、传播、控制、集成、数据管理和成熟阶段）

#### 2.1.3 信息系统的分类
##### 业务（数据）处理系统（TPS）
##### 管理信息系统（MIS）
##### 决策支持系统（DSS）
##### 专家系统（ES）
##### 办公自动化系统（OAS）

#### 2.1.4 信息系统的生命周期
##### 生命周期的四个阶段（产生、开发、运行和消亡阶段）

#### 2.1.5 信息系统的建设原则
##### 五个基本建设原则（高层人员介入、用户参与开发、自顶向下规划、工程化和其他原则等）

#### 4.1.6 信息系统的开发方法
##### 结构化方法
##### 原型法
##### 面向对象方法
##### 面向服务的方法

#### 2.1.7 综合性信息系统
##### 企业资源规划（ERP）
##### 仓储管理系统（WMS）
##### 制造过程管理系统（MES/SFC）
##### 产品数据管理系统（PDM）

### 2.2 业务处理系统（TPS）
#### 2.2.1 业务处理系统的概念
##### TPS的建设目的和意义

#### 2.2.2 业务处理系统的功能
##### TPS的五个基本功能（数据输入、处理、维护、文件报表的产生和查询处理）

### 2.3 管理信息系统（MIS）

### 2.4 决策支持系统（DSS）

### 2.5 专家系统（ES）

### 2.6 办公自动化系统（OAS）

### 2.7 企业资源规划（ERP）

### 2.8 典型信息系统架构模型
#### 2.8.1 政府信息化与电子商务
##### 电子商务的概念、内容和技术形式
##### 中国政府信息化的策略和历程
##### 电子政务建设的过程模式和技术模式

#### 2.8.2 企业信息化与电子商务
##### 企业信息化的概念和目的
##### 企业信息化的规划和方法
##### 电子商务的概念和标准

## 3.信息安全技术基础知识
### 3.1.1 信息安全概述
### 3.1.2 信息存储安全
### 3.1.3 网络安全

## 4.软件工程基础知识
### 4.1 软件工程
#### 4.1.1 软件工程概述
##### 软件工程的发展历程和软件危机
##### 软件工程的定义

#### 4.1.2 软件工程模型

## 5.数据库设计基础知识
## 6.系统架构设计基础知识
## 7.系统质量属性与架构评估
## 8.软件可靠性技术
## 9.软件架构的演化和维护
## 10.未来信息综合技术
## 11.标准化与知识产权
## 12.应用数学
### 概率统计应用
### 图论应用
### 组合分析
### 算法的选择与应用
#### 数值算法
#### 非数值算法
### 运筹方法(网络计划技术、线性规划、预测、决策、库存管理和模拟)
### 数学建模
## 13.专业英语
### 具有高级工程师所要求的英文阅读水平
### 掌握本领域的英语术语

## 科目2：系统架构设计案例分析
### 1.系统计划
### 2.信息系统架构的设计理论与实践
### ...
### 9.大数据架构设计理论与实践

## 科目3：系统架构设计论文
根据给出的与系统架构设计有关的若干专题，选择其中一个，按照规定的要求撰写论文。

### 1.系统建模
### 2.软件架构设计
### 3.系统设计
### 4.系统的可靠性分析与设计
### 5.系统的安全性和保密性设计

## 架构风格
软件架构风格是描述某一特定领域中**系统组织方式**的惯用**模式**。

### 主要特征
架构风格定义了一类架构所共有的特征，主要包括：
- 架构定义
- 架构**词汇表**
- 架构**约束**
  
#### 架构定义
...

#### 架构词汇表
词汇表定义了架构中允许使用的组件类型和连接器类型。

#### 架构约束
架构约束定义了组件和连接器之间的合法关系和行为规则。
- 组件约束：
  - 定义组件的行为和属性。例如，组件必须提供特定的接口，组件的状态必须满足某些条件等。
- 连接器约束：
  - 定义连接器的行为和属性。例如，连接器必须支持特定的通信协议，连接器的延迟必须在一定范围内等。
- 配置约束：
  - 定义组件和连接器之间的合法配置。例如，某些类型的组件只能通过特定类型的连接器通信，某些组件不能直接通信等。

#### 举例
1. 分层架构：
   - 词汇表：
     - 组件：`表示层`、`业务层`、`持久层`、`数据层`。
     - 连接器：`接口调用`、`数据库查询`。
   - 约束：
     - 组件约束：每一层只能与其相邻层通信，不能跳过中间层直接通信。
     - 连接器约束：表示层只能通过`接口调用`业务层，业务层只能通过接口调用持久层，持久层只能通过`数据库查询`数据层。
     - 配置约束：`表示层`不能直接访问`数据层`，必须通过`业务层`和`持久层`。

2. 事件驱动架构：
   - 词汇表：
     - 组件：`事件生产者`、`事件处理器`。
     - 连接器：`事件队列`、`事件通道`。
   - 约束：
     - 组件约束：`事件生产者`负责生成事件，`事件处理器`负责处理事件。
     - 连接器约束：`事件队列`负责接收和存储事件，`事件通道`负责分发传输事件到`事件处理器`。
     - 配置约束：`事件生产者`通过`事件队列`、`事件通道`与`事件处理器`通信，不能直接调用。

3. 微服务架构：
   - 词汇表：
     - 组件：独立的`服务`。
     - 连接器：`HTTP/REST`、`消息队列`
   - 约束：
     - 组件约束：每个`服务`必须是独立部署的单元，每个服务负责一个特定的业务功能。
     - 连接器约束：`服务`之间通过`HTTP/REST`或`消息队列`进行通信，通信协议必须标准化。
     - 配置约束：`服务`之间必须松耦合，`服务`的变更不应影响其他服务的正常运行。


### 基于规则的系统
#### 整体流程(7步走)

|步骤|描述|
|---|---|
|1|需求分析|
|2|规则定义|
|3|规则引擎选择|
|4|规则存储与检索|
|5|规则执行|
|6|规则更新与维护|
|7|性能评估与优化|

##### 1.需求分析
在这一步需要明确系统需要实现的功能和规则。例如，一个贷款审批系统需要根据申请人的年龄、收入、信用记录等条件来判断是否批准贷款。
##### 2.规则定义
定义规则是实现基于规则系统的关键。规则通常以 `如果…那么…` 的形式表达。例如：

```
if age > 18 and income > 30000 and credit_score > 700:
  approve_loan()
```

##### 3.规则引擎选择
选择一个合适的规则引擎对于实现基于规则的系统至关重要。常见的规则引擎有Drools、Jess等。

##### 4.规则存储与检索
规则需要存储在某种形式的存储系统中，如数据库或文件系统。以下是一个简单的规则存储示例：

```json
rules = [
  {
    "condition": "age > 18", 
    "action": "approve_loan"
  }
]
```

##### 5.规则执行
在这一步，我们需要编写代码来执行定义好的规则。以下是一个简单的规则执行示例：

```
def execute_rules(person):
  for rule in rules:
    if eval (rule["condition"]):
      eval (rule["action"])
```


##### 6.规则更新与维护
##### 7.规则评估与优化


## 未来信息技术
### 信息物理系统
信息物理系统(Cyber-Physical System, CPS)是嵌入式系统、控制系统的拓展和延伸。

- **定义**：
  - CPS是以先进的**感知**与**3C技术**构建物理空间和信息空间中人、机、物、环境、信息等要素相互映射、适时交互、高效协同的复杂系统。
  - 实现系统内资源配置和运行的按需响应、快速迭代、动态优化。
- **本质**：
  - 构建一套物理空间和信息空间之间基于**数据自动流动**的状态**感知**、实时**分析**、科学**决策**、精准**执行**的闭环赋能系统。
  - 解决**生产制造**、**应用服务**过程中的**复杂性**和**不确定性**问题。
  - 提高资源配置效率，实现资源优化。

> - Cyber：
>   - adj. 赛博，与网络有关的。  
> - 3C：
>   - Computation、Comunication、Control，即计算、通信、控制。

#### 结构、安全威胁及防护

|层次|含义|安全威胁|防护|
|---|---|---|---|
|感知层|由传感器、控制器、采集器等组成；属于物理信息系统中的末端设备|感知数据破坏、信息窃听、节点捕获|加强传感器的安全防护，提高传感器的安全性和可靠性|
|网络层|联系物理空间和信息空间的桥梁，实现数据传输，为系统提供实时的网络服务|拒绝性服务攻击、选择性转发、方向误导攻击|加密技术和安全协议保护数据传输的安全|
|控制层|根据认知结果和物理设备传回的信息进行数据分析，并将结果返回给客户端|用户信息泄露、恶意代码、非授权访问|认证和授权等安全管理机制和应急响应机制|

#### 应用场景
1. 智能家居：
   - CPS可以实现家店的远程控制和智能化管理。
2. 工业自动化:
   - CPS可以提高生产效率和产品质量，实现生产过程中的**自动化**和**智能化**。
3. 智能交通：
   - CPS可以实现交通流量的实时监测和智能调度，提高交通运行效率和安全性。


